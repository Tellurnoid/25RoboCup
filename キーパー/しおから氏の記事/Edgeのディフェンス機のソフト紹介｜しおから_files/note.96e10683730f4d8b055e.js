(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{2930:function(e,t,r){var content=r(3033);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("0674b2ba",content,!0,{sourceMap:!1})},2931:function(e,t,r){var content=r(3035);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("73d87ec5",content,!0,{sourceMap:!1})},2944:function(e,t,r){var content=r(3061);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("ee882010",content,!0,{sourceMap:!1})},3011:function(e,t,r){"use strict";r(30);var n=r(1),o=r(3020),l=r(374),c=r(2870),d=r(37),m=r(44),h=r(3025),f=r(34),v=r(376),y=r(3037),x=r(191),_=r(3019),w=n.a.extend({components:{NtLinkFunctional:x.default,BenefitAppealTexts:o.a,ColorLabel:l.a,NtCurrency:c.a,NtImage:d.default,NtLink:m.default,NtIcon:f.default,MembershipPurchasingButton:h.a,ReadMoreContainer:y.a},props:{plan:{type:Object,required:!0,default:null},linkRequired:{type:Boolean,default:!1},creator:{type:Object,required:!1,default:null},isPreview:{type:Boolean,default:!1},noteKey:{type:String,default:""},isShowDescription:{type:Boolean,default:!0},buttonSize:{type:String,default:"medium"},forceBoardDisabled:{type:Boolean,default:!1},showThumbnail:{type:Boolean,default:!0}},computed:{price(){return this.plan.price},statusLabelText(){return"public"===this.plan.status?"公開中":"非公開"},statusLabelType(){return"public"===this.plan.status?"custom":"basic"},planSettingPath(){return"/membership/settings/plans/".concat(this.plan.key,"/edit?destination=message")},membershipPath(){var option={contentType:"membership",content:this.plan.circle.owner},e=this.plan.isMember||this.plan.isOwner,path=this.$path.contentPath(option);return"".concat(path).concat(e?"":"/join")},headerImage(){var{headerImagePath:e}=this.plan;if(null!=e)return new v.a(e).format("jpg").width(80).crop("16:9").dpr(2).toString()},blocksYou(){var e;return(null===(e=this.creator)||void 0===e?void 0:e.blocksYou)||!1},circleName(){return this.plan.circle.name},benefitAppealTexts(){return Object(_.a)(this.plan,this.forceBoardDisabled)},showStatusLabel(){return!this.isPreview&&this.plan.isOwner},isFirstMonthFree(){return 0!==this.plan.price&&(void 0===this.currentUser||null===this.currentUser||this.plan.isOwner||!1===this.currentUser.canCheckout?!1===this.plan.isImmediateCharge:this.plan.isFreeTrialPeriodAvailable)},isMaxCapacityReached(){var e,t=this.plan;return void 0!==(null===(e=t.limitedMemberInfo)||void 0===e?void 0:e.canParticipate)&&!1===t.limitedMemberInfo.canParticipate},isLimitedNumberPlan(){return null!=this.plan.limitedMemberInfo},limitedNumberPlanText(){var e,t,r,n=this.plan;return!1===(null===(e=n.limitedMemberInfo)||void 0===e?void 0:e.visibleCount)?"人数制限あり":0===(null===(t=n.limitedMemberInfo)||void 0===t?void 0:t.remainingCount)?"募集終了":"あと".concat(null===(r=n.limitedMemberInfo)||void 0===r?void 0:r.remainingCount,"人募集中")},pricingAriaLabel(){var e="月額".concat(this.price,"円"),t=this.isFirstMonthFree?"、入会した月は無料":"",r=this.isLimitedNumberPlan?"、".concat(this.limitedNumberPlanText):"";return"".concat(e).concat(t).concat(r)}},methods:{handleClickPlan(e){this.$emit("click-membership-plan",e)},handlePurchaseButtonTrackEvent(e){this.$emit("track-purchase-button-click",e)}}}),M=(r(3060),r(7)),component=Object(M.a)(w,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.plan?r("div",{staticClass:"m-membershipSummary"},[e.showStatusLabel?r("div",{staticClass:"pb-2"},[r("color-label",{staticClass:"m-membershipSummary__statusLabel",attrs:{text:e.statusLabelText,type:e.statusLabelType}})],1):e._e(),e._v(" "),r("div",{staticClass:"m-membershipSummary__header"},[e.showThumbnail&&void 0!==e.headerImage?r("nt-image",{staticClass:"rounded-lg max-w-20",attrs:{src:e.headerImage,alt:"",width:"80",height:"45"}}):e._e(),e._v(" "),r("div",{staticClass:"flex flex-col gap-2 grow min-w-0"},[r("h4",{staticClass:"m-membershipSummary__headerTitle w-full",attrs:{"data-show-thumbnail":e.showThumbnail}},[e._v("\n        "+e._s(e.plan.name)+"\n      ")]),e._v(" "),e.price>0&&e.$webview.canShowPurchaseFeature?r("div",{staticClass:"flex items-start flex-wrap gap-2",attrs:{"aria-label":e.pricingAriaLabel}},[r("nt-currency",{staticClass:"text-sm font-bold text-text-success whitespace-nowrap",attrs:{amount:e.price,suffix:" / 月"}}),e._v(" "),r("div",{staticClass:"flex flex-wrap gap-2 self-center"},[e.isFirstMonthFree?r("color-label",{attrs:{text:"初月無料",size:"small"}}):e._e(),e._v(" "),e.isLimitedNumberPlan?r("color-label",{attrs:{text:e.limitedNumberPlanText,size:"small"}}):e._e()],1)],1):e._e()])],1),e._v(" "),r("div",{staticClass:"m-membershipSummary__body"},[e.linkRequired?r("nt-link",{staticClass:"m-membershipSummary__link",attrs:{to:e.membershipPath,"aria-label":e.circleName+" "+e.plan.name+" 月額"+e.price+"円"},on:{click:e.handleClickPlan}}):e._e(),e._v(" "),r("read-more-container",{attrs:{"default-height":240,"default-sp-height":40,"class-name-for-expandable":"pb-4"}},[e.isShowDescription?r("p",{staticClass:"m-membershipSummary__description",domProps:{textContent:e._s(e.plan.description)}}):e._e(),e._v(" "),r("benefit-appeal-texts",{staticClass:"mb-4",attrs:{"benefit-appeal-texts":e.benefitAppealTexts,size:"small"}})],1),e._v(" "),e._t("beforeFooter"),e._v(" "),r("div",{staticClass:"m-membershipSummary__footer mt-4"},[e.plan.isOwner?r("nt-link-functional",{staticClass:"mb-4",attrs:{to:e.planSettingPath,"is-button-link":!0,"button-type":"secondary","button-width":"fit"}},[e._v("\n        お礼メッセージ設定\n      ")]):e._e(),e._v(" "),e.$webview.canShowPurchaseFeature?r("membership-purchasing-button",{attrs:{plan:e.plan,"blocks-you":e.blocksYou,"note-key":e.noteKey,size:e.buttonSize,"is-max-capacity-reached":e.isMaxCapacityReached},on:{"track-click-event":function(t){return e.handlePurchaseButtonTrackEvent(e.plan)}}}):r("div",{staticClass:"m-membershipSummary__itemAlert"},[r("nt-icon",{staticClass:"m-membershipSummary__itemAlertIcon",attrs:{type:"warning",size:"small",clickable:!1}}),e._v(" "),r("span",{staticClass:"m-membershipSummary__itemAlertText"},[e._v("\n          このアプリ内では、メンバーシップを購読できません\n        ")]),e._v(" "),e.$webview.isAndroidVersionGteq(2,18,0)?r("span",{staticClass:"m-membershipSummary__itemAlertAdditionalText"},[e._v("\n          noteウェブサイトでご購入ください\n        ")]):e._e()],1)],1)],2)]):e._e()}),[],!1,null,"4dd1fd60",null);t.a=component.exports},3019:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return d}));r(11),r(12);var n=r(379),o=e=>{var t=[],r=(e=>e.membershipMagazines)(e);if(!r)return t;for(var n of r)t.push({type:"magazine",text:"".concat(n.name)});return t},l=(e,t)=>{var r=[];return e.membershipNotesEnabled&&r.push({type:"note",text:"メンバー限定の記事"}),!1===Object(n.a)(e.circle,t)&&e.isBoardEnabled&&r.unshift({type:"circle",text:"メンバー限定の掲示板"}),e.membershipMagazinesEnabled&&r.push({type:"magazine",text:"メンバー特典マガジン"}),r.push({type:"memberscard",text:"メンバー限定の会員証"}),0!==e.price&&r.push({type:"badge",text:"活動期間に応じたバッジ"}),r},c=(e,t)=>{var r=(e=>e.benefitAppealTexts.map((text=>({type:"gift",text:text}))))(e);return[...r,...o(e),...l(e,t)]},d=e=>{var t=[];!1===Object(n.a)(e.circle,!1)&&t.push({type:"circle",text:"メンバー限定掲示板"});var r=e.membershipNoteCount;e.membershipNotesEnabled&&r>0&&t.push({type:"note",text:"".concat(r,"個のメンバー限定の記事")});var o=e.membershipMagazines.length;return e.membershipMagazinesEnabled&&o>0&&t.push({type:"magazine",text:"".concat(o,"個のメンバー特典マガジン")}),t.push({type:"memberscard",text:"メンバー限定の会員証"}),0!==e.price&&t.push({type:"badge",text:"活動期間に応じたバッジ"}),e.benefitAppealTexts.length>0&&t.push({type:"gift",text:"その他".concat(e.benefitAppealTexts.length,"個の特典")}),t}},3020:function(e,t,r){"use strict";var n=r(1),o=r(248),l=n.a.extend({components:{NtSvgIcon:o.default},props:{benefitAppealTexts:{type:Array,required:!0},iconType:{type:String,default:"recommend"},size:{type:String,default:"medium"}},computed:{appealTexts(){return this.benefitAppealTexts.map((e=>void 0===(null==e?void 0:e.type)?{type:this.iconType,text:e}:e))},benefitListStyle(){return"small"===this.size?"gap-[0.125rem]":"gap-2"},benefitListItemStyle(){return"small"===this.size?"text-xs":"text-sm font-bold"}}}),c=r(7),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{class:"m-BenefitAppealTexts flex flex-col "+e.benefitListStyle,attrs:{"aria-label":"特典一覧"}},e._l(e.appealTexts,(function(t,i){return r("li",{key:i,class:"flex items-start break-all "+e.benefitListItemStyle},[r("div",{staticClass:"mr-2 flex items-center justify-center"},[r("nt-svg-icon",{attrs:{"aria-hidden":"true",type:t.type}})],1),e._v(" "),r("span",{staticClass:"self-center"},[e._v("\n      "+e._s(t.text)+"\n    ")])])})),0)}),[],!1,null,null,null);t.a=component.exports},3025:function(e,t,r){"use strict";var n=r(1),o=r(10),l=r(54),c=r(2901),d=r(43),m=r(181),h=n.a.extend({components:{BeforePurchasingButton:c.a,NtButton:d.a},mixins:[l.a],props:{plan:{type:Object,required:!0},blocksYou:{type:Boolean,required:!0},noteKey:{type:String,default:""},size:{type:String,default:"medium"},buttonType:{type:String,default:void 0},isMaxCapacityReached:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1}},computed:{resolvedButtonType(){return void 0!==this.buttonType?this.buttonType:this.plan.isMember||this.plan.isOwner?"secondary":"primary"},buttonText(){return this.plan.isOwner?"編集する":this.plan.isMember?"加入情報の確認":this.isMaxCapacityReached?"募集終了":"参加手続きへ"},isBlocked(){return this.blocksYou&&!this.plan.isMember},canPurchase(){var{isOwner:e,isMember:t}=this.plan;return!e&&!t}},mounted(){this.mountModals("pickUrlname","subscribeMembershipPlan")},methods:{onClickButton(){if(this.$emit("track-click-event"),!1!==this.isLoggedIn)if(this.currentUser.urlname)if(this.plan.isOwner)this.moveToSetting();else if(this.plan.isMember)this.moveToJoinedPage();else{var e=!this.currentUser.emailConfirmedFlag;if(this.$webview.isAndroidWebview&&!this.$webview.isAndroidVersionGteq(1,68,0)&&(e=!1),e)this.$webview.isAndroidWebview?window.location.href=this.$webview.needsMailActivation():this.pushRequestEmailConfirmModal();else if(this.isBlocked){var t=o.blockMessage.circle;this.pushAnyMessageModal({message:t})}else{var r={plan:this.plan,path:this.$path,prev:this.$route.path,noteKey:this.noteKey},{url:n,message:l}=Object(m.d)(r);n?location.href=n:l&&this.pushAnyMessageModal({message:l})}}else{var c={via:"membership",closeCallback:()=>{this.onClickButton()}};this.pushPickUrlnameModal(c)}else this.pushLoginOrSignupModal({type:"membership",content:this.plan,membershipConversion:{prev:this.$route.path,noteKey:this.noteKey}})},moveToSetting(){this.$router.push("/membership/settings/plans/".concat(this.plan.key,"/edit"))},moveToJoinedPage(){var e,t;this.$router.push("/membership/settings/joined/".concat(null!==(t=null===(e=this.plan.circle)||void 0===e?void 0:e.key)&&void 0!==t?t:""))}}}),f=(r(3032),r(7)),component=Object(f.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-membershipPurchasingButton"},[e.canPurchase?r("div",{directives:[{name:"track-event",rawName:"v-track-event",value:{action:"membership-purchasing-button-click",category:"button",label:"membership"},expression:"{\n      action: 'membership-purchasing-button-click', category: 'button', label: 'membership'\n    }"}]},[r("before-purchasing-button",{attrs:{"button-size":e.size,"button-text":e.buttonText,"button-type":e.resolvedButtonType,"button-width":"fit","purchase-type":"subscription","content-key":e.plan.key,"content-type":"CirclePlan",disabled:e.isDisabled||e.isMaxCapacityReached},on:{click:e.onClickButton}})],1):r("nt-button",{attrs:{type:e.resolvedButtonType,width:"fit",size:e.size,disabled:e.isDisabled},on:{click:e.onClickButton}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")])],1)}),[],!1,null,"898fecf0",null);t.a=component.exports},3032:function(e,t,r){"use strict";r(2930)},3033:function(e,t,r){var n=r(15)((function(i){return i[1]}));n.push([e.i,".m-membershipPurchasingButton[data-v-898fecf0]{position:relative;pointer-events:auto}",""]),n.locals={},e.exports=n},3034:function(e,t,r){"use strict";r(2931)},3035:function(e,t,r){var n=r(15)((function(i){return i[1]}));n.push([e.i,".m-readMoreContainer[data-v-1fdcfcbe]{--max-height:0px;--sp-max-height:0px}.m-readMoreContainer__detail[data-v-1fdcfcbe]{max-height:var(--sp-max-height)}@media only screen and (min-width:769px){.m-readMoreContainer__detail[data-v-1fdcfcbe]{max-height:var(--max-height)}}.m-readMoreContainer__readMore[data-v-1fdcfcbe]{display:block;margin:0 auto;font-size:var(--font-size-sm);color:var(--color-text-secondary);text-decoration:underline}@media only screen and (min-width:769px){.m-readMoreContainer__readMore[data-v-1fdcfcbe]{transition:background-color .2s cubic-bezier(1,0,0,1)}.m-readMoreContainer__readMore[data-v-1fdcfcbe]:hover{color:var(--color-text-primary)}}.m-readMoreContainer__gradient[data-v-1fdcfcbe]{background:linear-gradient(0deg,var(--color-background-primary) 0,var(--color-background-primary) 5%,transparent)}",""]),n.locals={},e.exports=n},3037:function(e,t,r){"use strict";var n=r(1).a.extend({props:{defaultHeight:{type:Number,required:!0},defaultSpHeight:{type:Number,default:0},classNameForExpandable:{type:String,default:""}},data:()=>({canShowReadMore:!1,isShowReadMore:!1,height:0}),computed:{styles(){return 0!==this.height?{"--max-height":"".concat(this.height,"px"),"--sp-max-height":"".concat(this.height,"px")}:{"--max-height":"".concat(this.defaultHeight,"px"),"--sp-max-height":this.defaultSpHeight>0?"".concat(this.defaultSpHeight,"px"):0}}},mounted(){var e=this.$refs.detail;if(void 0!==e){if(0===this.defaultSpHeight)this.height=this.defaultHeight;else{var t=window.matchMedia("(max-width: 480px)").matches;this.height=t?this.defaultSpHeight:this.defaultHeight}this.canShowReadMore=e.offsetHeight<e.scrollHeight}},methods:{handleReadMoreClick(){var e=!this.isShowReadMore,t=this.$refs.detail;if(void 0!==t){var r=t.scrollHeight;t.style.maxHeight="".concat(e?r:this.height,"px")}this.isShowReadMore=e}}}),o=(r(3034),r(7)),component=Object(o.a)(n,(function(){var e,t=this,r=t.$createElement,n=t._self._c||r;return n("div",{staticClass:"m-readMoreContainer",class:(e={relative:t.canShowReadMore},e[t.classNameForExpandable]=t.canShowReadMore,e),style:t.styles,attrs:{"aria-expanded":t.isShowReadMore}},[n("div",{ref:"detail",staticClass:"m-readMoreContainer__detail overflow-hidden transition-all duration-400 ease-inOut",class:{relative:t.canShowReadMore},attrs:{"aria-hidden":!t.isShowReadMore}},[t._t("default"),t._v(" "),t.canShowReadMore&&!1===t.isShowReadMore?n("div",{staticClass:"m-readMoreContainer__gradient absolute bottom-0 left-0 w-full h-5"}):t._e()],2),t._v(" "),t.canShowReadMore?n("button",{staticClass:"m-readMoreContainer__readMore",on:{click:t.handleReadMoreClick}},[t._v("\n    "+t._s(t.isShowReadMore?"閉じる":"もっとみる")+"\n  ")]):t._e()])}),[],!1,null,"1fdcfcbe",null);t.a=component.exports},3060:function(e,t,r){"use strict";r(2944)},3061:function(e,t,r){var n=r(15)((function(i){return i[1]}));n.push([e.i,".m-membershipSummary[data-v-4dd1fd60]{position:relative;display:flex;flex:1;flex-direction:column;height:100%}.m-membershipSummary__header[data-v-4dd1fd60]{display:flex;column-gap:1rem;align-items:flex-start;width:100%;margin-bottom:12px}.m-membershipSummary__headerTitle[data-v-4dd1fd60]{width:100%;font-size:var(--font-size-lg);font-weight:600}.m-membershipSummary__headerTitle[data-show-thumbnail=true][data-v-4dd1fd60]{width:calc(100% - 88px)}.m-membershipSummary__headerEyeCatch[data-v-4dd1fd60]{width:80px}.m-membershipSummary__link[data-v-4dd1fd60]{position:absolute;top:0;right:0;bottom:0;left:0;display:block;width:100%;height:100%}.m-membershipSummary__card[data-v-4dd1fd60]{position:relative;width:100%;overflow:hidden;border-radius:4%/7.1%}.m-membershipSummary__cardInner[data-v-4dd1fd60]{position:relative;height:0;padding-bottom:56.25%}.m-membershipSummary__cardImg[data-v-4dd1fd60]{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;margin-top:.25rem;background:var(--color-gray-500);object-fit:cover}.m-membershipSummary__body[data-v-4dd1fd60]{display:flex;flex:1;flex-direction:column}.m-membershipSummary__statusLabel[data-v-4dd1fd60]{width:max-content}.m-membershipSummary__description[data-v-4dd1fd60]{margin-bottom:16px;font-size:var(--font-size-sm);color:var(--color-text-secondary);word-break:break-all;white-space:pre-line}.m-membershipSummary__footer[data-v-4dd1fd60]{position:relative;margin-top:auto}.m-membershipSummary__itemAlert[data-v-4dd1fd60]{margin-top:8px;font-size:var(--font-size-xs)}.m-membershipSummary__itemAlertIcon[data-v-4dd1fd60]{margin-right:4px;color:var(--color-text-caution)}.m-membershipSummary__itemAlertText[data-v-4dd1fd60]{display:inline;color:var(--color-text-secondary)}.m-membershipSummary__itemAlertAdditionalText[data-v-4dd1fd60]{color:var(--color-text-secondary);white-space:nowrap}",""]),n.locals={},e.exports=n}}]);