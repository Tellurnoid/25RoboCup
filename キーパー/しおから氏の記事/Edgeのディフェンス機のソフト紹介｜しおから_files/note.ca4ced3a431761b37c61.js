(window.webpackJsonp=window.webpackJsonp||[]).push([[104,48,130,240],{2870:function(t,e,o){"use strict";o(14),o(29),o(30);var r=o(1).a.extend({inheritAttrs:!1,props:{amount:{type:Number,required:!0,default:0},prefix:{type:String,default:"¥"},suffix:{type:String,default:""},separator:{type:String,default:","}},computed:{computedAmount(){return[this.prefix,this.addSeparator(this.amount,this.separator),this.suffix].join("")}},methods:{addSeparator:(t,e)=>t.toString().replace(/(\d)(?=(?:\d{3})+\b)/g,"$1".concat(e))}}),n=o(7),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",t._b({},"span",t.$attrs,!1),[t._v(t._s(t.computedAmount))])}),[],!1,null,null,null);e.a=component.exports},2871:function(t,e,o){"use strict";o.r(e),o.d(e,"ALLOWED_TYPES",(function(){return n})),o.d(e,"ALLOWED_ARROWS",(function(){return l}));o(19),o(28);var r=o(1),n=["basic","popover"],l=["bottom","bottomLeft","bottomRight","left","none","right","rightBottom","top","topLeft","topCenter","topRight","topSlightRight","bottomRightForTextXs2Chars"],c=r.a.extend({props:{type:{type:String,default:"basic",validator:t=>n.includes(t)},arrow:{type:String,default:"none",validator:t=>l.includes(t)},bodyStyle:{type:Object,default:void 0},balloonClassName:{type:String,default:""}},computed:{balloonContainerClass(){return["a-balloon","none"===this.arrow?null:"a-balloon--arrow_".concat(this.arrow)]},balloonBodyClass(){return["a-balloon__body","popover"===this.type?"a-balloon__body--popover":null,this.balloonClassName]}},mounted(){window.addEventListener("keydown",this.clickEscKey)},beforeDestroy(){window.removeEventListener("keydown",this.clickEscKey)},methods:{clickOutside(){this.$emit("click-outside")},clickEscKey(t){"Escape"===t.key&&this.$emit("click-outside")}}}),d=(o(2878),o(7)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.clickOutside,expression:"clickOutside"}],class:t.balloonContainerClass},[o("div",{class:t.balloonBodyClass,style:t.bodyStyle},[t._t("default")],2)])}),[],!1,null,"f1091240",null);e.default=component.exports},2873:function(t,e,o){var content=o(2879);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(16).default)("d89c4efe",content,!0,{sourceMap:!1})},2878:function(t,e,o){"use strict";o(2873)},2879:function(t,e,o){var r=o(15)((function(i){return i[1]}));r.push([t.i,'.a-balloon[data-v-f1091240]{position:relative}.a-balloon__mask[data-v-f1091240]{position:fixed;top:0;left:0;width:100%;height:100%}.a-balloon__body[data-v-f1091240]{position:absolute;left:50%;z-index:7;min-width:160px;padding-top:8px;padding-bottom:8px;background-color:var(--color-surface-normal);border-radius:8px;box-shadow:var(--elevation-1);transform:translate(-50%)}.a-balloon__body[data-v-f1091240]:before{content:""}.a-balloon__body--popover[data-v-f1091240]{z-index:1000}.a-balloon--arrow_top .a-balloon__body[data-v-f1091240]{top:8px}.a-balloon--arrow_top .a-balloon__body[data-v-f1091240]:before{position:absolute;top:-6px;right:50%;z-index:1;width:12px;height:12px;margin-right:-6px;background-color:var(--color-surface-normal);border-right:1px solid var(--color-border-default);border-bottom:1px solid var(--color-border-default);transform:rotate(-135deg)}.a-balloon--arrow_topLeft .a-balloon__body[data-v-f1091240]{bottom:-16px;left:auto;transform:translateY(100%)}.a-balloon--arrow_topLeft .a-balloon__body[data-v-f1091240]:before{position:absolute;top:-4px;left:16px;width:8px;height:8px;background-color:var(--color-surface-normal);border-right:1px solid var(--color-border-default);border-bottom:1px solid var(--color-border-default);transform:rotate(-135deg)}.a-balloon--arrow_topRight .a-balloon__body[data-v-f1091240]{right:-8px;bottom:-16px;left:auto;transform:translateY(100%)}.a-balloon--arrow_topRight .a-balloon__body[data-v-f1091240]:before{position:absolute;top:-5px;right:16px;width:8px;height:8px;background-color:var(--color-surface-normal);border-right:1px solid var(--color-border-default);border-bottom:1px solid var(--color-border-default);transform:rotate(-135deg)}.a-balloon--arrow_bottom .a-balloon__body[data-v-f1091240]{top:-40px;transform:translate(-50%,-100%)}.a-balloon--arrow_bottom .a-balloon__body[data-v-f1091240]:before{position:absolute;right:50%;bottom:-2px;width:8px;height:8px;content:"";background-color:var(--color-surface-normal);border-right:1px solid var(--color-border-strong);border-bottom:1px solid var(--color-border-strong);transform:rotate(45deg) translate(50%)}.a-balloon--arrow_bottomRight .a-balloon__body[data-v-f1091240]{top:-40px;right:-8px;left:auto;transform:translateY(-100%)}.a-balloon--arrow_bottomRight .a-balloon__body[data-v-f1091240]:before{position:absolute;right:16px;bottom:-5px;width:8px;height:8px;content:"";background-color:var(--color-surface-normal);border-right:1px solid var(--color-border-strong);border-bottom:1px solid var(--color-border-strong);transform:rotate(45deg)}.a-balloon--arrow_bottomRightForTextXs2Chars .a-balloon__body[data-v-f1091240]{top:-2rem;right:-.625rem;left:auto;transform:translateY(-100%)}.a-balloon--arrow_bottomRightForTextXs2Chars .a-balloon__body[data-v-f1091240]:before{position:absolute;right:16px;bottom:-5px;width:8px;height:8px;content:"";background-color:var(--color-surface-normal);border-right:1px solid var(--color-border-strong);border-bottom:1px solid var(--color-border-strong);transform:rotate(45deg)}.a-balloon--arrow_bottomLeft .a-balloon__body[data-v-f1091240]{top:-40px;right:auto;left:-8px;transform:translateY(-100%)}.a-balloon--arrow_bottomLeft .a-balloon__body[data-v-f1091240]:before{position:absolute;bottom:-5px;left:16px;width:8px;height:8px;content:"";background-color:var(--color-surface-normal);border-right:1px solid var(--color-border-strong);border-bottom:1px solid var(--color-border-strong);transform:rotate(45deg)}.a-balloon--arrow_rightBottom .a-balloon__body[data-v-f1091240]{top:auto;right:auto;bottom:-21px;left:-16px;transform:translate(-100%)}.a-balloon--arrow_rightBottom .a-balloon__body[data-v-f1091240]:before{position:absolute;right:-5px;bottom:28px;width:8px;height:8px;content:"";background-color:var(--color-surface-normal);border-right:1px solid var(--color-border-default);border-bottom:1px solid var(--color-border-default);transform:rotate(-45deg)}',""]),r.locals={},t.exports=r},3412:function(t,e,o){var content=o(3630);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(16).default)("7a1f9322",content,!0,{sourceMap:!1})},3459:function(t,e,o){"use strict";o(14);var r=o(1).a.extend({props:{errorMessage:{type:String,required:!0}},computed:{isCreditCardError(){return/クレジットカードの(情報|有効期限)をお確かめ/.test(this.errorMessage)}}}),n=o(7),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._v("\n  "+t._s(t.errorMessage)+"\n  "),t.isCreditCardError?[o("br"),t._v(" "),o("a",{staticClass:"underline",attrs:{href:"/settings/credit_card",target:"_blank"}},[t._v("\n      クレジットカードを変更\n    ")])]:t._e()],2)}),[],!1,null,null,null);e.a=component.exports},3460:function(t,e,o){"use strict";o(11),o(26),o(12);var r=o(1),n=o(191),l=o(248),c=o(3143),d=r.a.extend({components:{NtBalloon:()=>o.e(130).then(o.bind(null,2871)),NtSvgIcon:l.default,NtLinkFunctional:n.default},props:{arrow:{type:String,default:"top"},paypayCampaignHelpBalloonText:{type:String,default:c.a}},data:()=>({paypayCampaignHelpBalloonLink:c.b})}),h=o(7),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("nt-balloon",{attrs:{type:"popover",arrow:t.arrow,"body-style":{zIndex:10,width:"14rem"}},on:{"click-outside":function(e){return t.$emit("close")}}},[o("div",{staticClass:"flex items-start pl-4 pb-1 pr-2"},[o("div",{staticClass:"text-sm mt-2 text-left"},[o("p",[t._v("\n        "+t._s(t.paypayCampaignHelpBalloonText)+"\n      ")]),t._v(" "),o("nt-link-functional",{staticClass:"mt-2 text-text-clickable-icon underline",attrs:{href:t.paypayCampaignHelpBalloonLink,rel:"nofollow",target:"_blank"}},[t._v("\n        キャンペーン詳細\n      ")])],1),t._v(" "),o("button",{staticClass:"text-text-clickable-icon",attrs:{type:"button","aria-label":"閉じる"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.$emit("close")}}},[o("nt-svg-icon",{attrs:{type:"close",size:"small"}})],1)])])}),[],!1,null,null,null);e.a=component.exports},3465:function(t,e,o){"use strict";o(19),o(14),o(64);var r=o(1),n=o(34),l=o(191),c=o(588),d=r.a.extend({name:"DrawMessage",components:{NtIcon:n.default,NtLinkFunctional:l.default},props:{design:{type:String,default:"plain",validator:t=>["none","plain"].includes(t)}},computed:{isActive(){return this.$store.getters[c.DRAW_GETTER_TYPES.IS_ACTIVE]},appealText(){return this.$store.getters[c.DRAW_GETTER_TYPES.APPEAL_TEXT]||""},officialUrl(){return this.$store.getters[c.DRAW_GETTER_TYPES.OFFICIAL_URL]},highlighted(){var pattern="最大100%還元",t=this.appealText.indexOf(pattern);return-1===t?{before:"",match:"",after:""}:{before:this.appealText.slice(0,t),match:pattern,after:this.appealText.slice(t+8)}},hasHighlight(){return this.highlighted.match.length>0},designClass(){return"plain"===this.design?"draw-message--plain":"draw-message--none"}}}),h=(o(3629),o(7)),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.isActive?o("div",{class:["draw-message",t.designClass]},[o("p",{staticClass:"draw-message__text"},[t.hasHighlight?[t._v("\n      "+t._s(t.highlighted.before)),o("span",{staticClass:"text-text-offer draw-message__highlight"},[t._v(t._s(t.highlighted.match))]),t._v(t._s(t.highlighted.after)+"\n    ")]:[t._v("\n      "+t._s(t.appealText)+"\n    ")],t._v(" "),o("nt-link-functional",{staticClass:"draw-message__help text-text-clickable-icon",attrs:{href:t.officialUrl,target:"_blank","aria-label":"キャンペーン詳細を開く"}},[o("nt-icon",{staticClass:"draw-message__icon",attrs:{type:"help",size:"small",clickable:!1}})],1)],2)]):t._e()}),[],!1,null,"70e109af",null);e.a=component.exports},3542:function(t,e,o){var content=o(3774);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(16).default)("e4b0e2ae",content,!0,{sourceMap:!1})},3629:function(t,e,o){"use strict";o(3412)},3630:function(t,e,o){var r=o(15)((function(i){return i[1]}));r.push([t.i,".draw-message[data-v-70e109af]{position:relative;padding:16px}.draw-message--plain[data-v-70e109af]{padding:8px 16px;background-color:var(--color-background-secondary);border:1px solid var(--color-border-weak);border-radius:6px}.draw-message--none[data-v-70e109af]{padding:0;background:transparent}.draw-message__text[data-v-70e109af]{margin:0;font-size:var(--font-size-sm);line-height:1.6;text-align:center}.draw-message__help[data-v-70e109af]{display:inline-block;margin-left:2px;vertical-align:middle}.draw-message__icon[data-v-70e109af]{display:inline-block;line-height:1;color:inherit;vertical-align:-.1em}.draw-message__highlight[data-v-70e109af]{font-size:var(--font-size-base);font-weight:700;white-space:nowrap}@media only screen and (max-width:480px){.draw-message__highlight[data-v-70e109af]{font-size:var(--font-size-sm)}}@media(max-width:480px){.draw-message[data-v-70e109af]{padding:12px 0}.draw-message--plain[data-v-70e109af]{padding:8px 12px}.draw-message--none[data-v-70e109af]{padding:0}.draw-message__text[data-v-70e109af]{font-size:var(--font-size-xs)}}",""]),r.locals={},t.exports=r},3674:function(t,e,o){"use strict";var r=o(1),n=o(2870),l=o(374),c=r.a.extend({components:{NtCurrency:n.a,ColorLabel:l.a},props:{kind:{type:String,required:!0},title:{type:String,required:!0},authorName:{type:String,required:!0},contentPrice:{type:Number,default:void 0},supportPrice:{type:Number,default:void 0},discountedPrice:{type:Number,default:void 0},discountCampaignKind:{type:String,default:""},note:{type:Object,default:void 0},magazine:{type:Object,default:void 0}},computed:{isShowPaymentDetail(){var t=void 0!==this.discountedPrice,e=void 0!==this.supportPrice&&this.supportPrice>0,o=void 0!==this.pointsToUse&&this.pointsToUse>0,r=this.rewardPoints>0;return(t||e||o||r)&&this.contentPrice>0},cannotRefund(){return!1===this.isLoggedIn||("magazine"===this.kind||"note"===this.kind&&(this.note&&!0!==this.note.isRefund))},contentLabel(){switch(this.kind){case"magazine":return"マガジン";case"note":return"記事";default:return""}},discountedLabel(){switch(this.discountCampaignKind){case"time_sale":return"タイムセール";case"twitter_retweet":return"SNSプロモーション割引";default:return"割引"}},canUsePoint(){return"note_purchase"===this.$store.state.modal.purchaseModalContainer.actionType},pointsToUse(){if(this.canUsePoint)return this.$store.state.purchase.pointsToUse},rewardPoints(){return this.canUsePoint?this.$store.state.purchase.rewardPoints:0},actualPaymentTotal(){var t,e,o,r=(null!==(t=this.discountedPrice)&&void 0!==t?t:this.contentPrice)+(null!==(e=this.supportPrice)&&void 0!==e?e:0);return this.canUsePoint?r-(null!==(o=this.pointsToUse)&&void 0!==o?o:0):r}}}),d=o(7),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"flex flex-col"},[o("div",{staticClass:"flex items-start flex-1 flex-wrap"},[o("h2",{staticClass:"font-bold leading-6 line-clamp-2 w-full"},[t._v("\n      "+t._s(t.title)+"\n      "),!1===t.cannotRefund?o("color-label",{staticClass:"py-1 px-2 rounded-full relative bottom-px inline",attrs:{text:"返金可",type:"primary",size:"medium"}}):t._e()],1),t._v(" "),o("div",{staticClass:"text-sm break-all text-text-secondary line-clamp-2 mt-1"},[t._v("\n      "+t._s(t.authorName)+"\n    ")])]),t._v(" "),t.magazine&&t.magazine.noteCount<=0?o("div",{staticClass:"text-sm break-all text-text-secondary mt-4"},[t._v("\n    ※現在このマガジンには記事が収録されていません\n  ")]):t._e(),t._v(" "),t.isShowPaymentDetail?o("div",{staticClass:"mt-2 pt-2 border-t-[1px] border-border-default flex flex-col"},[o("div",{staticClass:"flex justify-between"},[o("span",{staticClass:"text-text-secondary text-sm"},[t._v(t._s(t.contentLabel))]),t._v(" "),o("nt-currency",{staticClass:"whitespace-nowrap text-text-secondary text-sm",attrs:{amount:t.contentPrice,prefix:"",suffix:"円"}})],1),t._v(" "),void 0!==t.supportPrice&&t.supportPrice>0?o("div",{staticClass:"flex justify-between mt-2"},[o("span",{staticClass:"text-text-secondary text-sm"},[t._v("チップ")]),t._v(" "),o("nt-currency",{staticClass:"whitespace-nowrap text-text-secondary text-sm",attrs:{amount:t.supportPrice,prefix:"",suffix:"円"}})],1):t._e(),t._v(" "),void 0!==t.discountedPrice?o("div",{staticClass:"flex justify-between mt-2"},[o("span",{staticClass:"text-text-secondary text-sm"},[t._v(t._s(t.discountedLabel))]),t._v(" "),o("nt-currency",{staticClass:"whitespace-nowrap text-text-offer font-bold text-sm",attrs:{amount:t.discountedPrice-t.contentPrice,prefix:"",suffix:"円"}})],1):t._e(),t._v(" "),void 0!==t.pointsToUse&&t.pointsToUse>0?o("div",{staticClass:"flex justify-between mt-2"},[o("span",{staticClass:"text-text-secondary text-sm"},[t._v("ポイント利用")]),t._v(" "),o("nt-currency",{staticClass:"whitespace-nowrap text-text-offer font-bold text-sm",attrs:{amount:t.pointsToUse,prefix:"-",suffix:"円"}})],1):t._e(),t._v(" "),o("div",{staticClass:"flex items-center justify-between mt-2 pt-2 border-t border-border-default"},[o("span",{staticClass:"text-text-secondary text-sm"},[t._v("合計")]),t._v(" "),o("div",[o("span",{staticClass:"font-bold self-end",attrs:{"aria-hidden":!0}},[t._v("\n          ¥\n        ")]),t._v(" "),o("nt-currency",{staticClass:"font-bold whitespace-nowrap text-2xl",attrs:{amount:t.actualPaymentTotal,prefix:""}}),t._v(" "),o("span",{staticClass:"visually-hidden"},[t._v("円")])],1)])]):o("div",{staticClass:"mt-2 pt-2 border-t-[1px] border-border-default flex justify-end"},[o("div",[o("span",{staticClass:"font-bold self-end",attrs:{"aria-hidden":!0}},[t._v("\n        ¥\n      ")]),t._v(" "),o("nt-currency",{staticClass:"font-bold text-2xl whitespace-nowrap",attrs:{amount:t.actualPaymentTotal,prefix:""}}),t._v(" "),o("span",{staticClass:"visually-hidden"},[t._v("円")])],1)]),t._v(" "),t.rewardPoints>0?o("div",{staticClass:"flex justify-between border-t border-border-default pt-4"},[o("span",{staticClass:"text-text-secondary text-sm"},[t._v("ポイント付与")]),t._v(" "),o("span",{staticClass:"text-text-primary text-sm"},[t._v(t._s(t.rewardPoints.toLocaleString("ja-JP")))])]):t._e()])}),[],!1,null,null,null);e.a=component.exports},3688:function(t,e,o){"use strict";var r=o(3465).a,n=o(7),component=Object(n.a)(r,undefined,undefined,!1,null,null,null);e.a=component.exports},3772:function(t,e,o){var content=o(4117);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(16).default)("2ef30bc0",content,!0,{sourceMap:!1})},3773:function(t,e,o){"use strict";o(3542)},3774:function(t,e,o){var r=o(15)((function(i){return i[1]}));r.push([t.i,".m-paypayCampaignMessage__divider[data-v-7a3d37a4]{height:.875rem;margin-right:.25rem;margin-left:.25rem;border-left:.0625rem solid var(--color-border-primary)}.m-paypayCampaignMessage__detailLink[data-v-7a3d37a4]{margin-bottom:.0625rem}",""]),r.locals={},t.exports=r},3981:function(t,e,o){"use strict";o.r(e);var r=o(1),n=o(34),l=o(3460),c=o(3143),d=r.a.extend({components:{NtIcon:n.default,PaypayHelpBalloon:l.a},props:{arrow:{type:String,default:"bottomRightForTextXs2Chars"}},data:()=>({isBalloonOpen:!1}),computed:{paypayLogoImagePath:()=>"https://assets.st-note.com/poc-image/manual/note-common-images/production/svg/paypay-icon.svg",balloonText:()=>c.a}}),h=(o(3773),o(7)),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"m-paypayCampaignMessage flex justify-center items-center text-sm text-text-primary"},[t._v("\n  PayPay決済で"),o("span",{staticClass:"text-text-offer"},[t._v("追加チャンス！")]),t._v("12/28まで\n  "),o("div",{staticClass:"relative inline-flex items-center"},[o("nt-icon",{staticClass:"ml-2 text-text-clickable-icon",attrs:{type:"help",size:"small",clickable:!0},nativeOn:{click:function(e){t.isBalloonOpen=!0}}}),t._v(" "),o("div",{staticClass:"absolute right-0 -bottom-2"},[t.isBalloonOpen?o("paypay-help-balloon",{attrs:{"paypay-campaign-help-balloon-text":t.balloonText,arrow:t.arrow},on:{close:function(e){t.isBalloonOpen=!1}}}):t._e()],1)],1)])}),[],!1,null,"7a3d37a4",null);e.default=component.exports},4009:function(t,e,o){"use strict";var r=o(45),n=o(10),l=o(3);e.a={data:()=>({currentSupport:null}),validations:()=>({supportMessage:{maxLength:Object(r.maxLength)(n.support.maxMessageNum)},currentSupport:{price:{required:r.required,range:t=>n.support.minPrice<=t&&t<=n.support.maxPrice}}}),computed:{withSupport:{set(t){this.$store.dispatch(l.MODAL_ACTION_TYPES.SET_PURCHASE_MODAL_CONTAINER,{withSupport:t})},get(){return this.$store.state.modal.purchaseModalContainer.withSupport}},supportPrice:{set(t){this.$store.dispatch(l.MODAL_ACTION_TYPES.SET_PURCHASE_MODAL_CONTAINER,{supportPrice:t})},get(){return this.$store.state.modal.purchaseModalContainer.supportPrice}},supportPriceKind:{set(t){this.$store.dispatch(l.MODAL_ACTION_TYPES.SET_PURCHASE_MODAL_CONTAINER,{supportPriceKind:t})},get(){return this.$store.state.modal.purchaseModalContainer.supportPriceKind}},supportMessage:{set(t){this.$store.dispatch(l.MODAL_ACTION_TYPES.SET_PURCHASE_MODAL_CONTAINER,{supportMessage:t}),this.$v.supportMessage.$touch()},get(){return this.$store.state.modal.purchaseModalContainer.supportMessage}},messagePlaceholder:()=>"いつもステキな作品をありがとうございます。新作も楽しみにしています！（".concat(n.support.maxMessageNum,"文字まで）")}}},4052:function(t,e,o){"use strict";var r=o(581),n=o(10),l=o(154),c=o(37),d={components:{NtInput:l.a,NtImage:c.default},props:{supportPrice:{type:Number,default:void 0},supportPriceKind:{type:String,default:void 0}},data(){var t=Object(r.a)(n.support),e=t.choices,o=this.supportPriceKind||t.defaultKind,l=e.find((t=>t.kind===o));return"sfree"===o&&(l.price=this.supportPrice),{currentSupport:l,supportChoices:e}},created(){this.$emit("input",this.currentSupport)},methods:{selected(t){this.currentSupport=t,this.$emit("change"),this.$emit("input",t)}}},h=(o(4116),o(7)),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"m-supportSelectPrice"},t._l(t.supportChoices,(function(e){return o("div",{key:e.kind,staticClass:"m-supportSelectPrice__item"},[o("button",{class:["m-supportSelectPrice__button",{"is-active":t.currentSupport===e}],attrs:{type:"button",active:t.currentSupport===e,"aria-pressed":String(t.currentSupport===e)},on:{click:function(o){return t.selected(e)}}},[o("nt-image",{staticClass:"m-supportSelectPrice__icon",attrs:{src:e.iconPath,lazy:!1,alt:""}}),t._v(" "),o("div",{staticClass:"m-supportSelectPrice__footer"},["sfree"===e.kind?[o("div",{staticClass:"m-supportSelectPrice__unit"},[t._v("\n            ¥\n          ")]),t._v(" "),o("div",{staticClass:"m-supportSelectPrice__custom"},[o("nt-input",{staticClass:"m-supportSelectPrice__customField",attrs:{type:"number",size:"small",min:"100","aria-label":"金額",placeholder:"任意"},on:{input:function(o){return t.$emit("input",e)}},model:{value:e.price,callback:function(o){t.$set(e,"price",o)},expression:"item.price"}})],1)]:[o("div",{staticClass:"pb-1"},[o("div",{staticClass:"m-supportSelectPrice__unit"},[t._v("\n              ¥\n            ")]),t._v(" "),o("div",{staticClass:"m-supportSelectPrice__price"},[t._v("\n              "+t._s(e.price)+"\n            ")])])]],2)],1)])})),0)}),[],!1,null,"4b0d8a0b",null);e.a=component.exports},4116:function(t,e,o){"use strict";o(3772)},4117:function(t,e,o){var r=o(15)((function(i){return i[1]}));r.push([t.i,".m-supportSelectPrice[data-v-4b0d8a0b]{display:flex;justify-content:space-between}.m-supportSelectPrice__item[data-v-4b0d8a0b]{flex:1}.m-supportSelectPrice__button[data-v-4b0d8a0b]{display:block;width:100%;padding:8px 4px;text-align:center;border:2px solid transparent;border-radius:8px}@media only screen and (min-width:769px){.m-supportSelectPrice__button[data-v-4b0d8a0b]:hover{background-color:var(--color-background-secondary)}}.m-supportSelectPrice__button.is-active[data-v-4b0d8a0b]{color:var(--color-text-primary);background-color:var(--color-surface-normal);border:2px solid var(--color-border-primary)}.m-supportSelectPrice__icon[data-v-4b0d8a0b]{max-height:3.5rem;margin:.25rem 0}@media only screen and (max-width:480px){.m-supportSelectPrice__icon[data-v-4b0d8a0b]{max-height:2rem}}.m-supportSelectPrice__custom[data-v-4b0d8a0b]{margin-left:.25rem}.m-supportSelectPrice__customField[data-v-4b0d8a0b]{width:70px}@media only screen and (max-width:480px){.m-supportSelectPrice__customField[data-v-4b0d8a0b]{width:60px}}.m-supportSelectPrice__price[data-v-4b0d8a0b]{font-size:var(--font-size-lg);font-weight:600;line-height:1}.m-supportSelectPrice__unit[data-v-4b0d8a0b]{margin-right:2px;font-size:var(--font-size-sm);line-height:1}.m-supportSelectPrice__footer[data-v-4b0d8a0b]{display:flex;align-items:end;justify-content:center;height:30px}",""]),r.locals={},t.exports=r},4427:function(t,e,o){"use strict";var r=o(1),n=o(248),l=o(3680),c=r.a.extend({components:{NtSvgIcon:n.default,AmazonpayHelpBalloon:l.a},props:{arrow:{type:String,default:"bottomRightForTextXs2Chars"}},data:()=>({isBalloonOpen:!1})}),d=o(7),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"py-2 text-xs text-center bg-surface-quaternary relative rounded-[0.25rem] flex justify-center items-center"},[t._m(0),t._v(" "),o("div",{staticClass:"absolute right-3 top-1/2 -translate-y-1/2"},[o("div",{staticClass:"relative"},[o("button",{staticClass:"m-paypayCampaignMessage__detailLink text-text-clickable-icon text-xs underline flex justify-center items-center h-6 w-6",on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.isBalloonOpen=!0}}},[o("nt-svg-icon",{staticClass:"text-text-secondary",attrs:{clickable:!1,size:"mediumSmall",type:"help"}})],1),t._v(" "),o("div",{staticClass:"absolute right-0 -bottom-2"},[t.isBalloonOpen?o("amazonpay-help-balloon",{attrs:{arrow:t.arrow},on:{close:function(e){t.isBalloonOpen=!1}}}):t._e()],1)])])])}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("span",[t._v("\n    期間限定！Amazon Payで支払うと抽選で"),o("span",{staticClass:"text-text-offer"},[o("br"),t._v("1,000円分のAmazonギフトカード")]),t._v("が当たる！\n  ")])}],!1,null,null,null);e.a=component.exports},4624:function(t,e,o){var content=o(5554);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(16).default)("9e2dab12",content,!0,{sourceMap:!1})},5128:function(t,e,o){"use strict";var r=o(0),n=(o(18),o(19),o(28),o(11),o(12),o(67),o(55),o(1)),l=o(61),c=o(17),d=o(10),h=o(249),m=o(193),v=o(375),f=o(4009),_=o(57),x=o(3),y=o(3459),P=o(83),C=o(156),w=o(251),S=o(413),T=o(1243),k=o(154),E=o(2871),M=o(44),$=o(3160),U=o(248),A=o(45),O=n.a.extend({name:"PointUsage",components:{NtInput:k.a,NtBalloon:E.default,NtLink:M.default,NtSwitch:$.a,NtSvgIcon:U.default,FormErrorList:P.a},props:{balance:{default:()=>({total:0,paid:0,free:0}),type:Object},maxUsablePoints:{default:0,type:Number}},data:()=>({pointsToUse:void 0,isShowPopover:!1,controlId:""}),validations(){return{pointsToUse:{required:A.required,validRange:Object(A.between)(1,this.maxUsablePoints)}}},computed:{isPointUsageEnabled(){return this.$store.state.purchase.pointUsageEnabled},pointsToUseInStore(){return this.$store.state.purchase.pointsToUse}},mounted(){this.controlId=Object(T.a)()},methods:{openPopover(){this.isShowPopover=!0},closePopover(){this.isShowPopover=!1},togglePointUse(t){this.$store.dispatch(_.PURCHASE_ACTION_TYPES.SET_POINT_USAGE_ENABLED,t),this.updatePointsToUse(!0===t?this.maxUsablePoints:0)},updatePointsToUse(t){this.$v.pointsToUse.$touch();var e=Number(null!=t?t:"");this.pointsToUse=e,this.$emit("update",{point:e,isValid:!1===this.$v.$invalid})}}}),N=(o(5553),o(7)),L=Object(N.a)(O,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"flex justify-between items-center flex-col point-usage"},[o("div",{staticClass:"flex items-center gap-2 mb-1 mr-auto w-full"},[o("p",{staticClass:"text-sm"},[t._v("\n      ポイントを利用する（"+t._s(t.balance.total.toLocaleString("ja-JP"))+"ポイント保有\n      "),o("nt-link",{staticClass:"underline",on:{click:t.openPopover}},[t._v("\n        内訳\n      ")]),t._v("）\n    ")],1),t._v(" "),o("nt-switch",{staticClass:"ml-auto",attrs:{value:t.isPointUsageEnabled,"on-text":"","off-text":""},on:{change:t.togglePointUse}})],1),t._v(" "),o("div",[t.isShowPopover?o("nt-balloon",{attrs:{id:"point-popover-"+t.controlId,arrow:"bottom"},on:{"click-outside":t.closePopover}},[o("div",{staticClass:"py-2 px-4 relative"},[o("div",{staticClass:"mb-2 flex gap-1"},[o("i",{staticClass:"relative h-6 w-6"},[o("span",{staticClass:"absolute inset-1/2 h-1/2 w-1/2 -translate-y-1/2 -translate-x-1/2 rounded-full bg-yellow-900"}),t._v(" "),o("nt-svg-icon",{staticClass:"w-full h-full relative text-yellow-300",attrs:{type:"point"}})],1),t._v(" "),o("span",{staticClass:"font-bold"},[t._v(t._s(t.balance.total.toLocaleString("ja-JP")))])]),t._v(" "),o("dl",{staticClass:"mb-2 text-xs"},[o("div",{staticClass:"mb-1 flex gap-1"},[o("dt",{staticClass:"font-bold"},[t._v("\n              "+t._s(t.balance.paid.toLocaleString("ja-JP"))+"\n            ")]),t._v(" "),o("dd",[t._v("通常ポイント")])]),t._v(" "),o("div",{staticClass:"flex gap-1"},[o("dt",{staticClass:"font-bold"},[t._v("\n              "+t._s(t.balance.free.toLocaleString("ja-JP"))+"\n            ")]),t._v(" "),o("dd",[t._v("期間限定ポイント")])])]),t._v(" "),o("p",{staticClass:"text-xs text-text-secondary"},[t._v("\n          有効期限の近い期間限定ポイントから優先して使われます。期間限定ポイントを使い切ってから、通常ポイントを利用します。\n        ")]),t._v(" "),o("button",{staticClass:"absolute top-0 right-2 text-text-clickable hover:text-text-secondary",attrs:{"aria-label":"閉じる"},on:{click:t.closePopover}},[o("nt-svg-icon",{attrs:{type:"close",size:"small"}})],1)])]):t._e()],1),t._v(" "),t.isPointUsageEnabled?o("div",{staticClass:"ml-auto pt-2"},[o("div",{staticClass:"flex gap-4 items-center justify-end"},[o("div",{staticClass:"flex gap-2 items-center"},[o("nt-input",{attrs:{type:"number",name:"partial-point",size:"small",width:"4length",value:void 0===t.pointsToUse?t.pointsToUseInStore:t.pointsToUse,max:t.maxUsablePoints,min:"1"},on:{input:t.updatePointsToUse}})],1)]),t._v(" "),t.$v.pointsToUse.$error?o("form-error-list",[t.$v.pointsToUse.required?t.$v.pointsToUse.validRange?t._e():o("div",[t._v("\n        1~"+t._s(t.maxUsablePoints)+"の数字にしてください。\n      ")]):o("div",[t._v("\n        入力してください。\n      ")])]):t._e()],1):t._e()])}),[],!1,null,"9f3de6bc",null).exports,z=o(43),j=o(191),I=o(34),R=o(3674),B=o(4052),D=o(3126),F=o(88),W=o(3143),K=o(3981),Y=o(3710),H=o(3304),V=o(4427),G=o(588),J=o(3688),X=n.a.extend({components:{CreditCardErrorMessage:y.a,NtLink:M.default,NtLinkFunctional:j.default,NtIcon:I.default,NtButton:z.a,NtSvgIcon:U.default,NtSwitch:$.a,SupportSelectPrice:B.a,FormTextarea:w.a,FormErrorList:P.a,FormGroup:C.a,InputCount:S.a,PointUsage:L,PurchaseCover:R.a,PaypayCampaignMessage:K.default,AmazonpayButton:Y.a,AmazonpayCampaignMessage:V.a,DrawCampaignMessage:J.a},mixins:[v.a,f.a,m.a,h.a],props:{placeType:{type:String,default:"purchase-oneshot-modal"}},data:()=>({isSubmitting:!1,isValidPoint:!0,apiError:null,initialPaymentMethod:null}),computed:Object.assign(Object.assign({config:()=>d},Object(l.c)({discountCampaign:_.PURCHASE_GETTER_TYPES.DISCOUNT_CAMPAIGN})),{isPurchasingButtonDisabled(){return this.isSubmitting||this.isPointUsageEnabled&&!this.isValidPoint},actionType(){return this.$store.state.modal.purchaseModalContainer.actionType},paymentMethod(){return this.$_purchaseable_paymentMethod},hasUsedPointInLastPayment(){return this.currentUser.usedPointInLastPayment},isPointUsageEnabled(){return this.$store.state.purchase.pointUsageEnabled},isPointBalanceSufficient(){var t;return this.pointBalance.total>=(null!==(t=this.discountedPrice)&&void 0!==t?t:this.contentPrice)},maxUsablePoints(){var t;return this.isPointBalanceSufficient?null!==(t=this.discountedPrice)&&void 0!==t?t:this.contentPrice:this.pointBalance.total},paymentMethodString(){var t,e=null!==(t=d.paymentLabels[this.paymentMethod])&&void 0!==t?t:"未設定";if("creditcard"===this.paymentMethod){var o=this.$store.state.purchase.currentCreditCardNumber;this.currentUser.canCheckout?o&&(e="".concat(o," (").concat(e,")")):e="未設定"}return this.payFullyWithPoint&&(e="".concat(this.pointsToUse.toLocaleString("ja-JP"),"ポイント利用")),e},note(){return this.$store.state.purchase.note},magazine(){return this.$store.state.purchase.magazine},contentName(){var t,e;return"note_purchase"===this.actionType?null===(t=this.note)||void 0===t?void 0:t.name:null===(e=this.magazine)||void 0===e?void 0:e.name},contentAuthor(){var t,e;return"note_purchase"===this.actionType?null===(t=this.note)||void 0===t?void 0:t.user:null===(e=this.magazine)||void 0===e?void 0:e.user},authorName(){var t,e;return(null===(t=this.contentAuthor)||void 0===t?void 0:t.nickname)||(null===(e=this.contentAuthor)||void 0===e?void 0:e.urlname)},contentPrice(){var t,e;return"note_purchase"===this.actionType?null===(t=this.note)||void 0===t?void 0:t.price:null===(e=this.magazine)||void 0===e?void 0:e.price},actualPaymentTotal(){var t,e=null!==(t=this.discountedPrice)&&void 0!==t?t:this.contentPrice;return this.canUsePoint?e-this.pointsToUse:e},payFullyWithPoint(){var t;return!!this.canUsePoint&&this.pointsToUse===(null!==(t=this.discountedPrice)&&void 0!==t?t:this.contentPrice)},canRefund(){var t;return"note_purchase"===this.actionType&&!!(null===(t=this.note)||void 0===t?void 0:t.isRefund)},support(){return this.withSupport?{price:Number(this.currentSupport.price),message:this.supportMessage}:{}},showPaymentMethod(){return["creditcard","paypay","paypal","docomo","au","softbank",...Object(H.c)(this)?["amazonpay"]:[]].includes(this.paymentMethod)||this.isPointBalanceSufficient||this.hasUsedPointInLastPayment&&this.pointBalance.total>0},showPurchaseButton(){return!!this.payFullyWithPoint||!!this.paymentMethod&&(!("creditcard"===this.paymentMethod&&!this.currentUser.canCheckout)&&Object.keys(d.paymentButtonLabels).includes(this.paymentMethod))},isSupportEnabledByContentAuthor(){var t;return!0!==(null===(t=this.contentAuthor)||void 0===t?void 0:t.disableSupport)},showSupportLabel(){if(!this.isSupportEnabledByContentAuthor)return!1;var t=this.showPurchaseButton&&["creditcard","paypay",...Object(H.c)(this)?["amazonpay"]:[]].includes(this.paymentMethod),e=this.isPointUsageEnabled;return t||e},showWithFollow(){var t,e;if(void 0===(null===(t=this.contentAuthor)||void 0===t?void 0:t.id))return!1;var o=!!this.paymentMethod||this.payFullyWithPoint;return!(null===(e=this.contentAuthor)||void 0===e?void 0:e.isFollowing)&&o},isShowSupportError(){return this.withSupport&&this.$v.currentSupport.price.$error},isGoToConfirm(){return this.showPurchaseButton&&this.withSupport},priceValidateMessage(){var t=Object(F.number)(d.support.minPrice),e=Object(F.number)(d.support.maxPrice);return"".concat(t,"円から").concat(e,"円の間で入力してください。")},purchaseCoverKind(){return"note_purchase"==this.actionType?"note":"magazine"},isDrawActive(){return this.$store.getters[G.DRAW_GETTER_TYPES.IS_ACTIVE]},isDrawShown(){var t=this.isShowPaypayCampaignLabel;return!!this.isDrawActive&&!t},contentKey(){switch(this.actionType){case"note_purchase":return this.note.key;case"magazine_purchase":case"magazine_subscribe":return this.magazine.key;default:return""}},backButtonName(){return"note_purchase"===this.actionType?"記事へ戻る":"戻る"},discountedPrice(){var t;return null===(t=this.discountCampaign)||void 0===t?void 0:t.discountedPrice},discountCampaignKind(){var t;return null===(t=this.discountCampaign)||void 0===t?void 0:t.kind},nextRouteQuery(){var t={at:this.actionType,k:this.contentKey};return void 0!==this.discountCampaign&&(t.discount_campaign_key=this.discountCampaign.key),"paywall"===this.$route.query.scrollpos&&(t.scrollpos=this.$route.query.scrollpos),"true"===this.$route.query.paypay_coupon_redirected&&(t.paypay_coupon_redirected=this.$route.query.paypay_coupon_redirected),t},isShowPaypayCampaign:W.d,isShowPaypayCampaignLabel(){return this.isShowPaypayCampaign&&"paypay"!==this.paymentMethod&&Object(W.c)(this.actualPaymentTotal)},postLoginRedirectUrl(){if("object"==typeof window){var t=new URL(window.location.href);return t.searchParams.set("paypay_coupon_redirected","true"),t.href}},canUsePoint(){return"note_purchase"===this.actionType},pointsToUse(){return this.$store.state.purchase.pointsToUse},disableSupportSwitch(){return this.isPointUsageEnabled},rewardPoints(){return this.$store.state.purchase.rewardPoints},pointBalance(){var t,e;return null!==(e=null===(t=this.$store.state.purchase)||void 0===t?void 0:t.pointBalance)&&void 0!==e?e:{total:0,paid:0,free:0}},isAmazonpayCampaignShown(){return"amazonpay"!==this.paymentMethod&&Object(H.d)(this)&&Object(H.e)(this.actualPaymentTotal)}}),mounted(){var t,e,o,r,n;Object(D.c)(this.$tracker,{kind:D.a.cv_purchasing_process,action:"imp",contentType:"note_purchase"==this.actionType?"Note":"Magazine",contentKey:"note_purchase"==this.actionType?null===(t=this.note)||void 0===t?void 0:t.key:null===(e=this.magazine)||void 0===e?void 0:e.key,placeType:this.placeType,purchaseType:"paid",discountCampaignKind:null===(o=this.discountCampaign)||void 0===o?void 0:o.kind,discountCampaignKey:null===(r=this.discountCampaign)||void 0===r?void 0:r.key,discountCampaignDiscountedPrice:null===(n=this.discountCampaign)||void 0===n?void 0:n.discountedPrice,capabilities:{amazonPay:Object(H.a)(this),guestAmazonpay:Object(H.b)(this),isInAmazonpayCampaign:Object(H.d)(this)},experiment_info:{}})},methods:{init(){this.$v.$reset(),Object.assign(this.$data,{isSubmitting:!1,isValidPoint:!0,apiError:null,initialPaymentMethod:null}),this.initialPaymentMethod=this.$store.state.modal.purchaseModalContainer.paymentMethod||this.currentUser.defaultPaymentMethod,this.setInitialPoints()},setInitialPoints(){var t;if(!this.$store.state.modal.purchaseModalContainer.paymentMethod&&"note_purchase"===this.$_purchaseable_actionType){var e=this.$_purchaseable_pointBalance,o=null!==(t=this.$_purchaseable_discountedPrice)&&void 0!==t?t:this.$_purchaseable_contentPrice,r=e.total>=o;(!this.currentUser.defaultPaymentMethod||"creditcard"===this.currentUser.defaultPaymentMethod&&!this.currentUser.canCheckout)&&r&&(this.$store.dispatch(_.PURCHASE_ACTION_TYPES.SET_POINT_USAGE_ENABLED,!0),this.updatePointsToUse({point:o,isValid:!0}));var n=this.currentUser.usedPointInLastPayment,l=r?o:e.total;n&&e.total>0&&(this.$store.dispatch(_.PURCHASE_ACTION_TYPES.SET_POINT_USAGE_ENABLED,!0),this.updatePointsToUse({point:l,isValid:!0}))}},updatePointsToUse(t){var{point:e,isValid:o}=t;o?this.$store.dispatch(_.PURCHASE_ACTION_TYPES.SET_POINTS_TO_USE,e):this.$store.dispatch(_.PURCHASE_ACTION_TYPES.SET_POINTS_TO_USE,0),e>0&&this.toggleWithSupport(!1),this.isValidPoint=o,this.payFullyWithPoint?this.$store.dispatch(x.MODAL_ACTION_TYPES.SET_PURCHASE_MODAL_CONTAINER,{paymentMethod:"point"}):this.$store.dispatch(x.MODAL_ACTION_TYPES.SET_PURCHASE_MODAL_CONTAINER,{paymentMethod:this.initialPaymentMethod})},toggleWithFollow(t){this.withFollow=t},toggleWithSupport(t){this.withSupport=t,!1===t&&(this.setSupportPrice({price:0,kind:""}),this.supportMessage="")},setSupportPrice(t){this.supportPrice=void 0===t.price?0:Number(t.price),this.supportPriceKind=t.kind},changePaymentMethod(){this.isValidSupport()&&this.$emit("changePaymentMethod",{supportPrice:this.support.price,supportMessage:this.support.message,nextPageDisableFollow:this.showWithFollow,withFollow:this.withFollow,paymentMethod:this.initialPaymentMethod})},confirm(){this.isValidSupport()&&this.$emit("confirm",{supportPrice:this.support?this.support.price:0,supportMessage:this.support?this.support.message:"",nextPageDisableFollow:this.showWithFollow,withFollow:this.withFollow})},purchase(){var t=this;return Object(r.a)((function*(){var e,o;if(t.isValidSupport()){t.isSubmitting=!0;var r={returnUrl:"".concat(d.defaultBaseUrl,"/a/purchase/after_purchase")};t.showWithFollow&&t.withFollow&&(yield t.followUser({userId:null===(e=t.contentAuthor)||void 0===e?void 0:e.id,userKey:null===(o=t.contentAuthor)||void 0===o?void 0:o.key,via:"purchase_content"})),"paywall"===t.$route.query.scrollpos&&c.q.set("note-detail-scrollpos",t.$route.query.scrollpos),yield t.$_purchaseable_purchase(r),t.isSubmitting=!1}}))()},isValidSupport(){return!this.withSupport||(this.$v.$touch(),!this.$v.$invalid)},closeModal(){c.q.remove("note-detail-paywall-click"),this.$store.dispatch(_.PURCHASE_ACTION_TYPES.SET_BEFORE_PURCHASING_PLACE,""),this.$emit("close")},handleAmazonpayButtonCheckout(){!1===this.isPurchasingButtonDisabled&&this.purchase()}}}),Q=Object(N.a)(X,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"max-w-[470px] mx-auto purchase-oneshot-content"},[o("div",{staticClass:"p-4 bg-background-secondary"},[o("div",{staticClass:"flex"},[o("div",{staticClass:"absolute"},[o("nt-button",{staticClass:"relative bottom-1",attrs:{size:"small",type:"basic",disabled:t.isSubmitting},on:{click:function(e){return e.preventDefault(),t.closeModal(e)}}},[t._v("\n          "+t._s(t.backButtonName)+"\n        ")])],1),t._v(" "),t._m(0)]),t._v(" "),o("div",{staticClass:"p-4 mt-4 bg-background-primary border border-border-default rounded-lg sm:px-6 sm:mt-6"},[o("purchase-cover",{attrs:{kind:t.purchaseCoverKind,title:t.contentName,"author-name":t.authorName,"content-price":t.contentPrice,"discounted-price":t.discountedPrice,"discount-campaign-kind":t.discountCampaignKind,note:t.note,magazine:t.magazine}}),t._v(" "),t.showSupportLabel?o("div",[!1===t.withSupport?o("button",{staticClass:"flex text-text-success items-center ml-auto text-sm",attrs:{disabled:t.disableSupportSwitch},on:{click:function(e){return t.toggleWithSupport(!0)}}},[t.disableSupportSwitch?o("p",{staticClass:"text-xs text-text-secondary"},[t._v("\n            ※ ポイント利用時はチップを追加できません\n          ")]):[o("nt-svg-icon",{staticClass:"mr-1",attrs:{type:"tipFill",size:"small"}}),t._v(" "),o("span",[t._v("\n              チップを追加\n            ")])]],2):o("div",{staticClass:"mt-4 pt-3 border-t border-border-default"},[o("form-group",[o("template",{slot:"description"},[o("div",{staticClass:"mb-8 flex items-center justify-between"},[o("span",{staticClass:"text-text-primary text-sm font-bold"},[t._v("\n                  金額\n                ")]),t._v(" "),o("nt-link",{staticClass:"underline text-sm",on:{click:function(e){return t.toggleWithSupport(!1)}}},[t._v("\n                  キャンセル\n                ")])],1)]),t._v(" "),o("support-select-price",{attrs:{"support-price":t.supportPrice,"support-price-kind":t.supportPriceKind},on:{input:t.setSupportPrice},model:{value:t.currentSupport,callback:function(e){t.currentSupport=e},expression:"currentSupport"}}),t._v(" "),o("form-error-list",{directives:[{name:"show",rawName:"v-show",value:t.isShowSupportError,expression:"isShowSupportError"}],attrs:{slot:"errorMessage"},slot:"errorMessage"},[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.$v.currentSupport.price.range,expression:"!$v.currentSupport.price.range"}]},[t._v("\n                "+t._s(t.priceValidateMessage)+"\n              ")])])],2)],1),t._v(" "),t.withSupport?o("div",{staticClass:"mt-4"},[o("form-textarea",{attrs:{id:"message",placeholder:t.messagePlaceholder,"has-error":t.$v.supportMessage.$error,label:"メッセージ"},model:{value:t.supportMessage,callback:function(e){t.supportMessage=e},expression:"supportMessage"}},[o("form-error-list",{directives:[{name:"show",rawName:"v-show",value:t.$v.supportMessage.$error,expression:"$v.supportMessage.$error"}],attrs:{slot:"errorMessage"},slot:"errorMessage"},[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.$v.supportMessage.maxLength,expression:"!$v.supportMessage.maxLength"}]},[t._v("\n                "+t._s(t.config.support.maxMessageNum)+"文字以内で入力してください。\n              ")])])],1),t._v(" "),o("input-count",{attrs:{length:t.supportMessage.length,"max-length":t.config.support.maxMessageNum}})],1):t._e()]):t._e()],1)]),t._v(" "),t.isDrawShown?o("div",{staticClass:"mt-3 px-4"},[o("draw-campaign-message",{attrs:{design:"plain"}})],1):t._e(),t._v(" "),o("div",[o("div",{staticClass:"px-4"},[t.showPaymentMethod?o("div",{staticClass:"py-4 border-b border-border-default"},[o("div",[t.isShowPaypayCampaignLabel?o("paypay-campaign-message",{staticClass:"mb-3 py-2 bg-surface-quaternary"}):t._e(),t._v(" "),t.isAmazonpayCampaignShown?o("div",{staticClass:"mb-3 text-center"},[o("amazonpay-campaign-message")],1):t._e(),t._v(" "),o("div",[o("button",{staticClass:"flex justify-between items-center w-full disabled:cursor-text",attrs:{disabled:t.payFullyWithPoint},on:{click:function(e){return t.changePaymentMethod()}}},[o("span",{staticClass:"text-text-secondary text-sm"},[t._v(" お支払い ")]),t._v(" "),o("span",{staticClass:"flex flex-row items-center"},[o("span",{staticClass:"font-bold text-text-primary text-sm",attrs:{"data-payment-method":""}},[t._v("\n                  "+t._s(t.paymentMethodString)+"\n                ")]),t._v(" "),t.payFullyWithPoint?t._e():o("nt-icon",{staticClass:"ml-2 text-text-clickable",attrs:{type:"navnext",clickable:!1,"aria-label":"変更"}})],1)])]),t._v(" "),t.canUsePoint&&t.maxUsablePoints>0?o("div",{staticClass:"pt-4"},[o("point-usage",{attrs:{balance:t.pointBalance,"max-usable-points":t.maxUsablePoints},on:{update:t.updatePointsToUse}})],1):t._e()],1)]):t._e(),t._v(" "),t.showWithFollow?o("div",{staticClass:"py-4 border-b border-border-default"},[o("div",{staticClass:"inline-flex items-center w-full"},[o("span",{staticClass:"text-sm",attrs:{id:"creator-follow-label"}},[t._v("\n            クリエイターをフォロー\n          ")]),t._v(" "),o("nt-switch",{staticClass:"ml-auto",attrs:{value:t.withFollow,"on-text":"","off-text":"","aria-labelledby":"creator-follow-label"},on:{change:t.toggleWithFollow}})],1)]):t._e(),t._v(" "),t.apiError?o("div",{staticClass:"mt-4"},[o("form-error-list",[o("credit-card-error-message",{attrs:{"error-message":t.toApiErrorMessage(t.apiError)}})],1)],1):t._e(),t._v(" "),o("div",{staticClass:"flex flex-col py-8"},[t.isGoToConfirm?o("nt-button",{attrs:{disabled:t.$v.$anyError,size:"large",width:"fit",type:"primary"},on:{click:function(e){return e.preventDefault(),t.confirm(e)}}},[t._v("\n          確認\n        ")]):t.showPurchaseButton?o("div",{staticClass:"bg-background-primary"},[o("amazonpay-button",{attrs:{show:"amazonpay"===t.paymentMethod,variant:"onlyButton"},on:{checkout:t.handleAmazonpayButtonCheckout}}),t._v(" "),"amazonpay"!==t.paymentMethod?o("nt-button",{attrs:{disabled:t.isPurchasingButtonDisabled,size:"large",width:"fit",type:"primary"},on:{click:function(e){return e.preventDefault(),t.purchase(e)}}},[t._v("\n            購入する\n          ")]):t._e()],1):o("nt-button",{attrs:{disabled:t.$v.$anyError,size:"large",width:"fit",type:"primary"},on:{click:function(e){return e.preventDefault(),t.changePaymentMethod(e)}}},[t._v("\n          お支払い方法を選択\n        ")])],1),t._v(" "),o("div",{staticClass:"flex justify-center"},[o("p",{staticClass:"text-text-secondary text-xs"},[o("nt-link-functional",{staticClass:"underline inline-block hover:text-text-primary lg:transition-all",attrs:{href:"https://help-note.com/hc/ja/articles/6253267645337",target:"_blank"}},[t._v("\n            購入時のご確認\n          ")])],1),t._v(" "),!1===t.canRefund?o("p",{staticClass:"text-text-secondary text-xs ml-4"},[o("nt-link-functional",{staticClass:"underline inline-block hover:text-text-primary lg:transition-all",attrs:{href:"https://help-note.com/hc/ja/articles/360000670602/",target:"_blank"}},[t._v("\n            返金不可\n          ")])],1):t._e(),t._v(" "),o("p",{staticClass:"text-text-secondary text-xs ml-4"},[o("nt-link-functional",{staticClass:"underline inline-block hover:text-text-primary lg:transition-all",attrs:{href:"https://help-note.com/hc/ja/articles/360009035473",target:"_blank"}},[t._v("\n            チップとは\n          ")])],1)])])])])}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"flex flex-1 justify-center"},[o("h1",{staticClass:"font-bold"},[t._v("\n          購入の確認\n        ")])])}],!1,null,null,null);e.a=Q.exports},5553:function(t,e,o){"use strict";o(4624)},5554:function(t,e,o){var r=o(15)((function(i){return i[1]}));r.push([t.i,".point-usage[data-v-9f3de6bc]  .a-balloon__body{min-width:180px}",""]),r.locals={},t.exports=r}}]);