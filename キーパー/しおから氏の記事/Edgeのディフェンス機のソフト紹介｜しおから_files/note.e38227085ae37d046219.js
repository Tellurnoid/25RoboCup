(window.webpackJsonp=window.webpackJsonp||[]).push([[44,131],{2977:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return _}));var n=r(59),o=r.n(n),c=r(317),l=r.n(c),d=r(114),m=r.n(d),h=()=>(new Date).getFullYear(),_=(e,pattern)=>{var t=o()(e);return l()(t)?m()(t,pattern):""}},3126:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return c}));r(18);var n={cv_before_purchasing:"cv-before-purchasing",cv_purchasing_process:"cv-purchasing-process",cv_purchase_completed:"cv-purchase-completed"};function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.trackActionLogs([e.buildActionLogRecord({kind:t.kind,contents:Object.assign(Object.assign(Object.assign({action:t.action,content_key:(null==t?void 0:t.contentKey)||"",content_type:(null==t?void 0:t.contentType)||"",payment_type:(null==t?void 0:t.paymentType)||"",place_type:(null==t?void 0:t.placeType)||"",purchase_type:(null==t?void 0:t.purchaseType)||"",conversion_path:(null==t?void 0:t.prev)||"",experiment_info:(null==t?void 0:t.experiment_info)||{},discount_campaign_kind:(null==t?void 0:t.discountCampaignKind)||"",discount_campaign_key:(null==t?void 0:t.discountCampaignKey)||"",capabilities:t.capabilities||{}},void 0!==(null==t?void 0:t.discountCampaignDiscountedPrice)?{discount_campaign_discounted_price:t.discountCampaignDiscountedPrice}:void 0),{section:t.section}),r)})])}function c(e){switch(e){case"urlname-n-key":case"n-key":return"note-detail";case"urlname":case"index":return"creator-top";case"urlname-magazines":case"magazines":return"creator-magazines";case"urlname-circle":case"circle":return"creator-circle";case"urlname-m-key":return"magazine-top";case"urlname-membership":case"membership":case"urlname-membership-boards":case"membership-boards":case"urlname-membership-boards-boardKey-posts-postKey":case"membership-boards-boardKey-posts-postKey":case"urlname-membership-notes":case"membership-notes":case"urlname-membership-magazines":case"membership-magazines":case"urlname-membership-info":case"membership-info":case"urlname-membership-members":case"membership-members":case"urlname-membership-join":case"membership-join":return"membership";default:return""}}},3155:function(e,t,r){"use strict";var n=r(0),o=(r(18),r(19),r(28),r(11),r(12),r(30),r(89),r(14),r(29),r(6)),c=r(600),l=r(599),d=r(230),m=r(602),h=r(318),_=r(57),v=r(56),y=r(61),f=r(181),C=r(10),M=["au","docomo","softbank","monthly_au","monthly_docomo","monthly_softbank"];t.a={computed:Object.assign(Object.assign(Object.assign({},Object(y.e)(_.moduleName,["note","magazine","circlePlan","creator"])),Object(y.c)({discountCampaign:_.PURCHASE_GETTER_TYPES.DISCOUNT_CAMPAIGN})),{premiumPlan(){return this.$store.state.modal.purchaseModalContainer.premiumPlan},actionType(){return this.$store.state.modal.purchaseModalContainer.actionType},nextRouteQuery(){var e={at:this.actionType,k:this.contentKey,noteKey:this.$route.query.noteKey};return["circle_plan","membership_plan"].includes(this.actionType)&&(e.creator=this.creator.urlname,e.prev=this.$prevRoute.query.prev),void 0!==this.discountCampaign&&(e.discount_campaign_key=this.discountCampaign.key),"paywall"===this.$route.query.scrollpos&&(e.scrollpos=this.$route.query.scrollpos),"true"===this.$route.query.paypay_coupon_redirected&&(e.paypay_coupon_redirected=this.$route.query.paypay_coupon_redirected),e},contentType(){switch(this.actionType){case"note_purchase":case"support":case"note_lead_form":case"note_line_add_friend":return"Note";case"magazine_purchase":case"magazine_subscribe":return"Magazine";case"circle_plan":case"membership_plan":return"CirclePlan";default:return""}},contentKey(){switch(this.actionType){case"note_purchase":case"support":case"note_lead_form":case"note_line_add_friend":return this.note.key;case"magazine_purchase":case"magazine_subscribe":return this.magazine.key;case"circle_plan":case"membership_plan":return this.circlePlan.key;default:return""}},contentPath(){return this.note?this.$path.contentPath({contentType:"note",content:this.note}):this.magazine?this.$path.contentPath({contentType:"magazine",content:this.magazine}):this.circlePlan?this.$path.contentPath({contentType:"circle",content:this.circlePlan.circle.owner}):"/"}}),methods:{afterPurchase(e){var{paymentMethod:t,purchaseResponse:r,nextRoute:n}=e;if([...M,"paypay","amazonpay"].includes(t)){var{startUrl:o,accessId:c,token:l}=r,form=document.createElement("form");form.action=o,form.method="post";var d=document.createElement("input");d.type="hidden",d.name="AccessID",d.value=c,form.appendChild(d);var m=document.createElement("input");m.type="hidden",m.name="Token",m.value=l,form.appendChild(m),document.body.appendChild(form),form.submit()}else if("paypal"===t){var{startUrl:h,accessId:_}=r,v=document.createElement("form");v.action=h,v.method="post";var y=document.createElement("input");y.type="hidden",y.name="AccessID",y.value=_,v.appendChild(y);var T=document.createElement("input");T.type="hidden",T.name="ShopID",T.value=C.gmo.shopId.toString(),v.appendChild(T),document.body.appendChild(v),v.submit()}else{if(("creditcard"===t||"creditCard"===t)&&void 0!==r){var{acs:A,redirectUrl:x}=r;if(2==A&&(x.startsWith(C.gmo.creditCardWithTds.url)||x.startsWith(C.gmo.creditCardWithTds.url2)))return void(window.location.href=x)}if("premium_subscribe"===this.actionType)return void("replace"===(null==n?void 0:n.method)?this.$router.replace({path:"/a/purchase/subscribe_premium_complete",query:n.query}):this.replaceAfterPurchaseMessageModal({creatorImage:null,creatorMessage:null}));if("replace"===(null==n?void 0:n.method))this.$router.replace({path:"/a/purchase/after_purchase",query:n.query});else{var content=["note_purchase","support","note_lead_form","note_line_add_friend"].includes(this.actionType)?this.note:this.magazine,{creatorImage:$,creatorMessage:E}=Object(f.a)(this.actionType,content);this.replaceAfterPurchaseMessageModal({creatorImage:$,creatorMessage:E})}}},confirm(e){var{paymentMethod:t}=e;this.replacePurchaseConfirmModal({paymentMethod:t})},savedCreditCard(e){var{paymentMethod:t,via:r,tdsChallengeUrl:n,nextRoute:o}=e;if(n&&(n.startsWith(C.gmo.creditCardWithTds.url)||n.startsWith(C.gmo.creditCardWithTds.url2)))window.location.href=n;else if("magazine_subscribe"!==this.actionType)if("membership_plan"!==this.actionType)if("premium_subscribe"!==this.actionType)if("support"!==this.actionType){var c={actionType:this.actionType,paymentMethod:t,via:r};"replace"===(null==o?void 0:o.method)?this.replacePurchaseOneshotContentModal(Object.assign(Object.assign({},c),{nextRoute:o})):this.replacePurchaseOneshotContentModal(c)}else"replace"===(null==o?void 0:o.method)?this.replacePurchaseConfirmModal({paymentMethod:t,nextRoute:o}):this.replacePurchaseConfirmModal({paymentMethod:t});else this.replacePurchaseSubscribePremiumModal({premiumPlan:this.premiumPlan,nextRoute:o});else this.replaceSubscribeMembershipPlanModal({nextRoute:o});else"replace"===(null==o?void 0:o.method)?this.replacePurchaseSubscribeMagazineModal({via:r,nextRoute:o}):this.replacePurchaseSubscribeMagazineModal({via:r})},closedAfterPurchaseMessage(){var e=this;return Object(n.a)((function*(){switch(e.actionType){case"note_purchase":e.note&&(yield e.afterPurchaseFromNote(e.note));break;case"magazine_purchase":case"magazine_subscribe":if("note-detail"===e.$store.state.purchase.beforePurchasingPlace){var t=e.$store.state.pages.noteDetail.data;if(t)return yield e.afterPurchaseFromNote(t),void e.$store.dispatch(_.PURCHASE_ACTION_TYPES.SET_BEFORE_PURCHASING_PLACE,"")}if(e.magazine){yield e.$store.dispatch(h.MAGAZINE_TOP_ACTION_TYPES.GET_MAGAZINE_LAYOUT,{key:e.magazine.key});var r=e.$store.state.pages.magazineTop.magazineLayout,n=e.$path.contentPath({contentType:"magazine",content:r});e.$router.push({path:n})}break;case"support":yield e.$store.dispatch(o.NOTE_DETAIL_ACTION_TYPES.GET,{key:e.note.key});break;case"premium_subscribe":window.location.reload()}}))()},afterGuestPurchase(e){var{purchaseResult:t}=e;this.replacePurchaseNoteGuestCompleteModal({guestAuthorizationNumber:t.authorizationNumber})},moveToContentPath(){window.location.href=this.contentPath},afterPurchaseFromNote(e){var t=this;return Object(n.a)((function*(){var path=t.$path.customDomain?"/n/".concat(e.key):"/".concat(e.user.urlname,"/n/").concat(e.key);t.$router.push({path:path}),yield t.$store.dispatch(o.NOTE_DETAIL_ACTION_TYPES.GET,{key:e.key}),"TextNote"===e.type&&(yield t.$store.dispatch(o.NOTE_DETAIL_ACTION_TYPES.SANITIZE_TEXT_NOTE_BODY,t.$store.getters[v.URL_GETTER_TYPES.GET_CURRENT_HEAD_URL])),t.$store.dispatch(c.HOME_TIMELINE_ACTION_TYPES.MODIFY_ARTICLE,t.$store.state.pages.noteDetail.data),t.$store.dispatch(l.CATEGORY_TIMELINE_ACTION_TYPES.MODIFY_ARTICLE,t.$store.state.pages.noteDetail.data),t.$store.dispatch(d.HASHTAG_TIMELINE_ACTION_TYPES.MODIFY_ARTICLE,t.$store.state.pages.noteDetail.data),t.$store.dispatch(m.LIBRARY_TIMELINE_ACTION_TYPES.MODIFY_ARTICLE,t.$store.state.pages.noteDetail.data)}))()}}}},3205:function(e,t,r){var content=r(3350);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("4c6d70d0",content,!0,{sourceMap:!1})},3248:function(e,t,r){"use strict";r.d(t,"b",(function(){return c})),r.d(t,"c",(function(){return d})),r.d(t,"a",(function(){return f}));var n=r(0),o=r(162);function c(e){return l.apply(this,arguments)}function l(){return(l=Object(n.a)((function*(e){return(yield e.get("/v2/current_user/email")).data.data.email}))).apply(this,arguments)}function d(e,t){return m.apply(this,arguments)}function m(){return m=Object(n.a)((function*(e,t){return"twitter"===t?function(e){return h.apply(this,arguments)}(e):"google_oauth2"===t?function(e){return _.apply(this,arguments)}(e):"apple"===t&&function(e){return v.apply(this,arguments)}(e)})),m.apply(this,arguments)}function h(){return(h=Object(n.a)((function*(e){return(yield e.get("/v2/current_user/twitter_integration_acknowledgement")).data.data.twitter_integration_acknowledgement}))).apply(this,arguments)}function _(){return(_=Object(n.a)((function*(e){return(yield e.get("/v2/current_user/google_integration_acknowledgement")).data.data.google_integration_acknowledgement}))).apply(this,arguments)}function v(){return(v=Object(n.a)((function*(e){return(yield e.get("/v2/current_user/apple_integration_acknowledgement")).data.data.apple_integration_acknowledgement}))).apply(this,arguments)}function y(){return(y=Object(n.a)((function*(e){return(yield e.get("/v2/current_user/interested_categories")).data.data}))).apply(this,arguments)}function f(e,t){return C.apply(this,arguments)}function C(){return C=Object(n.a)((function*(e,t){return yield Object(o.b)("interested-categories",3024e5,Object(n.a)((function*(){var data=yield function(e){return y.apply(this,arguments)}(e);return{[t.id]:data}})),(data=>Boolean(data[t.id])))})),C.apply(this,arguments)}},3295:function(e,t,r){"use strict";r.r(t);var n=r(1),o=r(34),c=r(44),l=r(191),d=n.a.extend({components:{NtIcon:o.default,NtLink:c.default,NtLinkFunctional:l.default},props:{buttonLabel:{type:String,default:""},buttonUrl:{type:String,default:""},iconType:{type:String,default:"warning"},iconSize:{type:String,default:"small"},iconColor:{type:String,default:"warning"},showIcon:{type:Boolean,default:!0},showButton:{type:Boolean,default:!1},type:{type:String,default:"info"},onlyVisibleToYou:{type:Boolean,default:!1},showHelp:{type:Boolean,default:!1},helpLink:{type:String,default:""},helpAriaLabel:{type:String,default:""}}}),m=(r(3349),r(7)),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"m-warningMessage",class:"m-warningMessage__"+e.type},[r("div",{staticClass:"m-warningMessage__body"},[e.$slots.image?r("div",{staticClass:"m-warningMessage__image"},[e._t("image")],2):e._e(),e._v(" "),r("div",{staticClass:"m-warningMessage__content"},[e.onlyVisibleToYou?r("small",{staticClass:"mb-2 flex items-center gap-1"},[r("nt-icon",{attrs:{clickable:!1,type:"eye",size:"small"}}),e._v("\n        あなただけに表示されています\n      ")],1):e._e(),e._v(" "),r("div",{staticClass:"m-warningMessage__title"},[e.showIcon?r("div",{class:["m-warningMessage__icon","m-warningMessage__icon--"+e.iconColor]},[r("nt-icon",{attrs:{type:e.iconType,size:e.iconSize,clickable:!1}})],1):e._e(),e._v(" "),e._t("title"),e._v(" "),e.showHelp?r("nt-link-functional",{staticClass:"text-text-clickable-icon hover:text-text-secondary h-4",attrs:{href:e.helpLink,"aria-label":e.helpAriaLabel,target:"_blank"}},[r("nt-icon",{attrs:{type:"help",size:"small",clickable:!1}})],1):e._e()],2),e._v(" "),e.$slots.message?r("div",{staticClass:"m-warningMessage__message"},[e._t("message")],2):e._e()])]),e._v(" "),e.showButton?r("div",{staticClass:"m-warningMessage__action"},[r("nt-link",{attrs:{href:e.buttonUrl,target:"_blank","is-button-link":!0,"button-type":"secondary","button-size":"small"}},[e._v("\n      "+e._s(e.buttonLabel)+"\n    ")])],1):e._e()])}),[],!1,null,"2ec8a482",null);t.default=component.exports},3304:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return m})),r.d(t,"e",(function(){return h}));var n=250,o=e=>{var t,r,n,o,c,l,d,m;return null!==(m=null!==(o=null===(n=null===(r=null===(t=e.$store.state.pages)||void 0===t?void 0:t.noteDetail)||void 0===r?void 0:r.data)||void 0===n?void 0:n.capabilities)&&void 0!==o?o:null===(d=null===(l=null===(c=e.$store.state.pages)||void 0===c?void 0:c.magazineTop)||void 0===l?void 0:l.magazineLayout)||void 0===d?void 0:d.capabilities)&&void 0!==m?m:{}},c=e=>!0===o(e).amazonpay,l=e=>!0===o(e).guestAmazonpay,d=e=>e.isLoggedIn?c(e):l(e),m=e=>d(e)&&!0===o(e).amazonpayCampaign;function h(e){return(null!=e?e:0)>=n}},3349:function(e,t,r){"use strict";r(3205)},3350:function(e,t,r){var n=r(15)((function(i){return i[1]}));n.push([e.i,".m-warningMessage[data-v-2ec8a482]{padding:16px;border-radius:8px}.m-warningMessage__info[data-v-2ec8a482]{color:var(--color-text-primary);background-color:var(--color-background-secondary);border:1px solid var(--color-border-default)}.m-warningMessage__warning[data-v-2ec8a482]{background-color:var(--color-surface-cautionSubdued);border:1px solid var(--color-orange-100)}.m-warningMessage__error[data-v-2ec8a482]{background-color:var(--color-surface-dangerSubdued);border:1px solid var(--color-red-200)}.m-warningMessage__success[data-v-2ec8a482]{background-color:var(--color-surface-successSubdued);border:1px solid var(--color-green-200)}.m-warningMessage__body[data-v-2ec8a482]{display:flex}.m-warningMessage__image[data-v-2ec8a482]{display:flex;flex-shrink:1;align-items:center;padding-right:10px}.m-warningMessage__content[data-v-2ec8a482]{flex-grow:1}.m-warningMessage__title[data-v-2ec8a482]{display:inline-flex;align-items:center;font-size:var(--font-size-sm);font-weight:600;gap:.5rem}.m-warningMessage__icon[data-v-2ec8a482]{display:flex;align-items:center;color:var(--color-text-caution)}.m-warningMessage__icon.m-warningMessage__icon--error[data-v-2ec8a482]{color:var(--color-text-danger)}.m-warningMessage__message[data-v-2ec8a482]{margin-top:8px;font-size:var(--font-size-xs);line-height:1.5;color:var(--color-text-secondary);word-break:break-all}.m-warningMessage__message[data-v-2ec8a482]  a{text-decoration:underline}.m-warningMessage__action[data-v-2ec8a482]{margin-top:16px}@media only screen and (max-width:480px){.m-warningMessage__action[data-v-2ec8a482]{margin-top:8px;margin-left:0}}",""]),n.locals={},e.exports=n},3680:function(e,t,r){"use strict";r(11),r(26),r(12);var n=r(1),o=r(191),c=r(248),l=n.a.extend({components:{NtBalloon:()=>r.e(130).then(r.bind(null,2871)),NtSvgIcon:c.default,NtLinkFunctional:o.default},props:{arrow:{type:String,default:"top"}}}),d=r(7),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nt-balloon",{attrs:{type:"popover",arrow:e.arrow,"body-style":{zIndex:10,width:"14rem"}},on:{"click-outside":function(t){return e.$emit("close")}}},[r("div",{staticClass:"flex items-start pl-4 pb-1 pr-2"},[r("div",{staticClass:"text-sm mt-1 text-left"},[r("p",{staticClass:"mb-2"},[e._v("\n        当選者には後日メールで1,000円分のAmazonギフトカードをお送りします。\n      ")]),e._v(" "),r("nt-link-functional",{staticClass:"mt-2 text-text-clickable-icon underline",attrs:{href:"https://note.com/info/n/n156fc772cf70",rel:"nofollow",target:"_blank"}},[e._v("\n        キャンペーン詳細\n      ")])],1),e._v(" "),r("button",{staticClass:"text-text-clickable-icon",attrs:{type:"button","aria-label":"閉じる"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.$emit("close")}}},[r("nt-svg-icon",{attrs:{type:"close",size:"small"}})],1)])])}),[],!1,null,null,null);t.a=component.exports},3710:function(e,t,r){"use strict";var n=r(0),o=(r(18),r(1)),c=r(10),l=(r(26),r(98)),d=function(){var e=Object(n.a)((function*(){return window.amazon?Promise.resolve():new Promise((e=>{Object(l.f)(c.amazonpay.sdkScriptUrl,!1,(script=>{script.onload=()=>{e()}}))}))}));return function(){return e.apply(this,arguments)}}(),m=r(138),h="AmazonpayButtonContainer",_=o.a.extend({components:{NtLoadingDots:m.a},props:{show:{type:Boolean,required:!0},variant:{type:String,required:!0},checkoutSessionConfig:{type:Object,default:null}},data:()=>({CONTAINER_ID:h,isAmazonpayReady:!1}),watch:{show:{immediate:!0,handler(e){var t=this;return Object(n.a)((function*(){yield t.$nextTick(),void 0!==t.$el&&(t.$el.style.display=e?"block":"none")}))()}}},mounted(){var e=this;return Object(n.a)((function*(){var{variant:t}=e;try{if(yield e.$nextTick(),yield d(),void 0!==window.amazon){e.isAmazonpayReady=!0,yield e.$nextTick();var button=window.amazon.Pay.renderButton("#".concat(h),Object.assign({merchantId:c.amazonpay.merchantId,ledgerCurrency:"JPY",sandbox:c.amazonpay.sandbox,checkoutLanguage:"ja_JP",productType:"PayOnly",placement:"Checkout",buttonColor:"Gold"},"checkout"===t?{createCheckoutSessionConfig:Object.assign(Object.assign({},e.checkoutSessionConfig),{algorithm:"AMZN-PAY-RSASSA-PSS-V2"})}:{}));void 0!==button&&"onlyButton"===t&&button.onClick((()=>{e.$emit("checkout")}))}}catch(e){console.error(e)}}))()}}),v=r(7),component=Object(v.a)(_,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"w-full h-20",attrs:{id:e.CONTAINER_ID}},[e.show&&!1===e.isAmazonpayReady?r("nt-loading-dots"):e._e()],1)}),[],!1,null,null,null);t.a=component.exports},4051:function(e,t,r){"use strict";var n=r(1),o=r(3680),c=n.a.extend({components:{AmazonpayHelpBalloon:o.a},props:{arrow:{type:String,default:"bottomRightForTextXs2Chars"}},data:()=>({isBalloonOpen:!1}),computed:{campaignLink:()=>"https://note.com/info/n/n156fc772cf70"}}),l=r(7),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"py-2 px-3 text-xs bg-background-primary flex justify-between items-center rounded-[0.25rem] border border-border-default"},[e._m(0),e._v(" "),r("div",{staticClass:"relative"},[r("button",{staticClass:"text-text-clickable-icon text-[0.625rem] underline",on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.isBalloonOpen=!0}}},[e._v("\n      詳細\n    ")]),e._v(" "),r("div",{staticClass:"absolute right-0 -bottom-2"},[e.isBalloonOpen?r("amazonpay-help-balloon",{attrs:{arrow:e.arrow},on:{close:function(t){e.isBalloonOpen=!1}}}):e._e()],1)])])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[e._v("\n    抽選で"),r("span",{staticClass:"text-text-offer"},[e._v("Amazonギフトカード")]),e._v("が当たる！\n  ")])}],!1,null,null,null);t.a=component.exports},4400:function(e,t,r){"use strict";var n=r(0),o=(r(11),r(26),r(12),r(14),r(29),r(74),r(30),r(18),r(1)),c=r(45),l=r(235),d=r.n(l),m=r(114),h=r.n(m),_=r(4008),v=r.n(_),y=(r(605),r(83)),f=r(156),C=r(113),M=r(380),T=r(37),A=r(154),x=r(44),$=r(2977),E=r(129),w=r(3248),O=r(41),P=r(376),k=o.a.extend({components:{FormErrorList:y.a,FormGroup:f.a,FormInput:C.a,FormSelect:M.a,NtImage:T.default,NtLink:x.default,NtInput:A.a},props:{showCompanyImage:{type:Boolean,default:!0},card:{type:Object,required:!0},price:{type:Number,default:0},contentName:{type:String,default:""},categories:{type:Array,default:()=>[]},isCreditCardRegistered:{type:Boolean,default:!1}},data:()=>({isComposing:!1,splitCardNo:"",email:null}),computed:{noSplitCardNo(){return this.card.no.replace(/-/g,"")},selectableYears:()=>Array.from({length:11},((e,i)=>({id:i+Object($.a)(),value:i+Object($.a)()}))),selectableMonths:()=>Array.from({length:12},((e,i)=>({id:(i+1).toString().padStart(2,"0"),value:(i+1).toString().padStart(2,"0")}))),customDomain(){return this.$store.getters[O.METADATA_GETTER_TYPES.CUSTOM_DOMAIN]},registeredAt(){return Object($.b)(this.currentUser.registeredAt,"YYYYMMDDHHmm")},isPurchase(){return 0!==this.price&&""!==this.contentName},asContentName(){return 0===this.categories.length?this.contentName:this.categories.concat(this.contentName).join("_")},asExpirationDate(){var e=new Date(this.card.expiryYear,this.card.expiryMonth-1);return Object($.b)(e,"MMYY")},cardBrandsImagePath:()=>new P.a("https://assets.st-note.com/poc-image/manual/note-common-images/production/payment/fig_cardlist.png").size(260,34).fit("bounds").dpr().toString()},mounted(){var e=this;return Object(n.a)((function*(){e.isLoggedIn&&!e.customDomain&&(e.loading=!0,e.email=yield Object(w.b)(e.$axios),e.loading=!1),e.updateCardNo(e.card.no)}))()},validations:()=>({card:{no:{required:c.required,length:e=>14<=(e=e.replace(/-/g,"")).length&&e.length<=16,pattern:e=>(e=e.replace(/-/g,""),RegExp("^[0-9]+$").test(e))},cvc:{required:c.required,length:e=>3<=e.length&&e.length<=4},name:{required:c.required,pattern:e=>RegExp("^[A-Z.,-/ ]+$").test(e)}}}),methods:{compositionstart(){this.isComposing=!0},compositionend(){this.isComposing=!1,this.updateCardNo(this.card.no)},updateCardNo(e){var t=this.card.no.length<=e.length&&!this.isComposing;this.card.no=e,this.splitCardNo=t?Object(E.c)(this.noSplitCardNo):this.card.no}}}),z=(r(5531),r(7)),S=Object(z.a)(k,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pb-6"},[r("div",{staticClass:"m-creditCardForm__item"},[e.showCompanyImage?r("nt-image",{staticClass:"m-creditCardForm__cardimage",attrs:{src:e.cardBrandsImagePath,lazy:!1,alt:"対応カードブランド Visa アメリカンエキスプレス Mastercard JCB ダイナーズクラブ"}}):e._e()],1),e._v(" "),r("div",{staticClass:"m-creditCardForm__item mt-4"},[r("form-input",{attrs:{id:"no",value:e.splitCardNo,required:!0,"has-error":e.$v.card.no.$error,type:"text",label:"カード番号",autocomplete:"cc-number"},on:{compositionstart:e.compositionstart,compositionend:e.compositionend,input:e.updateCardNo,blur:function(t){return e.$v.card.no.$touch()}}},[e.$v.card.no.$error?r("form-error-list",{attrs:{slot:"errorMessage"},slot:"errorMessage"},[e.$v.card.no.required?e._e():r("div",[e._v("\n          カード番号は入力必須です。\n        ")]),e._v(" "),e.$v.card.no.length?e._e():r("div",[e._v("\n          カード番号は14桁から16桁で入力してください。\n        ")]),e._v(" "),e.$v.card.no.pattern?e._e():r("div",[e._v("\n          カード番号は数字のみで入力してください\n        ")])]):e._e()],1),e._v(" "),r("span",{staticClass:"text-text-secondary text-sm mt-2"},[e._v("例: 1111-2222-3333-4444")])],1),e._v(" "),r("div",{staticClass:"m-creditCardForm__item"},[r("form-input",{attrs:{id:"bin",value:e.noSplitCardNo,type:"hidden"}})],1),e._v(" "),r("div",{staticClass:"m-creditCardForm__item"},[r("form-input",{attrs:{id:"name",required:!0,"has-error":e.$v.card.name.$error,type:"text",label:"カード名義",name:"as-card-name",autocomplete:"cc-name"},on:{blur:function(t){return e.$v.card.name.$touch()}},model:{value:e.card.name,callback:function(t){e.$set(e.card,"name",t)},expression:"card.name"}},[e.$v.card.name.$error?r("form-error-list",{attrs:{slot:"errorMessage"},slot:"errorMessage"},[e.$v.card.name.required?e._e():r("div",[e._v("\n          カード名義は入力必須です。\n        ")]),e._v(" "),e.$v.card.name.pattern?e._e():r("div",[e._v("\n          半角英大文字で入力してください。\n        ")])]):e._e()],1),e._v(" "),r("span",{staticClass:"text-text-secondary text-sm mt-2"},[e._v("例: TARO NOTE")])],1),e._v(" "),r("div",{staticClass:"m-creditCardForm__item"},[r("form-group",{attrs:{required:!0,label:"有効期限"}},[r("div",{staticClass:"m-creditCardForm__limit"},[r("span",{staticClass:"visually-hidden",attrs:{id:"expiryMonth"}},[e._v("\n          月\n        ")]),e._v(" "),r("form-select",{attrs:{id:"month",labelledby:"expiryMonth",options:e.selectableMonths,autocomplete:"cc-exp-month"},model:{value:e.card.expiryMonth,callback:function(t){e.$set(e.card,"expiryMonth",t)},expression:"card.expiryMonth"}}),e._v(" "),r("div",{staticClass:"m-creditCardForm__limitSeparate"},[e._v("\n          /\n        ")]),e._v(" "),r("div",[r("span",{staticClass:"visually-hidden",attrs:{id:"expiryYear"}},[e._v("\n            年\n          ")]),e._v(" "),r("form-select",{attrs:{id:"year",labelledby:"expiryYear",options:e.selectableYears,autocomplete:"cc-exp-year"},model:{value:e.card.expiryYear,callback:function(t){e.$set(e.card,"expiryYear",t)},expression:"card.expiryYear"}})],1)],1)])],1),e._v(" "),r("div",{staticClass:"m-creditCardForm__item"},[r("form-input",{attrs:{id:"cvc",required:!0,"has-error":e.$v.card.cvc.$error,type:"number",label:"セキュリティコード",width:"4length",autocomplete:"cc-csc"},on:{blur:function(t){return e.$v.card.cvc.$touch()}},model:{value:e.card.cvc,callback:function(t){e.$set(e.card,"cvc",t)},expression:"card.cvc"}},[r("nt-image",{staticClass:"m-creditCardForm__securityImage",attrs:{slot:"item",src:e.$path.assetsPath("images/fig_cardsecrity.png"),lazy:!1,alt:"カード裏面に記載されている、３桁もしくは４桁の数字"},slot:"item"}),e._v(" "),e.$v.card.cvc.$error?r("form-error-list",{attrs:{slot:"errorMessage"},slot:"errorMessage"},[e.$v.card.cvc.required?e._e():r("div",[e._v("\n          セキュリティコードは入力必須です。\n        ")]),e._v(" "),e.$v.card.cvc.length?e._e():r("div",[e._v("\n          セキュリティコードは3桁から4桁で入力してください。\n        ")])]):e._e()],1),e._v(" "),r("span",{staticClass:"text-text-secondary text-sm mt-2"},[e._v("例: 123")])],1),e._v(" "),e.isLoggedIn?r("form-input",{attrs:{id:"mail",type:"hidden",value:e.email}}):e._e(),e._v(" "),e.isLoggedIn?r("form-input",{attrs:{id:"as-user-entry-date",type:"hidden",value:e.registeredAt}}):e._e(),e._v(" "),e.isPurchase?r("form-input",{attrs:{id:"as-price",type:"hidden",value:e.price}}):e._e(),e._v(" "),e.isPurchase?r("nt-input",{staticClass:"as-content-name",attrs:{type:"hidden",value:e.asContentName}}):e._e(),e._v(" "),r("nt-input",{attrs:{id:"as-expiration-date",type:"hidden",value:e.asExpirationDate}}),e._v(" "),e._t("default"),e._v(" "),e.isCreditCardRegistered?r("div",{staticClass:"m-creditCardForm__note"},[e._v("\n    現在クレジットカードで加入中のメンバーシップや定期購読マガジン、noteプレミアムの決済にも適用されます。\n  ")]):e._e(),e._v(" "),r("div",{staticClass:"m-creditCardForm__note"},[e._v("\n    クレジットカード情報の取り扱いについては 「"),r("nt-link",{staticClass:"m-creditCardForm__noteLink",attrs:{href:"https://help-note.com/hc/ja/articles/360011270654",target:"_blank"}},[e._v("\n      課金情報の取り扱いの安全性について\n    ")]),e._v("」をごらんください。\n  ")],1)],2)}),[],!1,null,"38d1160d",null).exports,I=r(43),N=r(3295),L=r(10),D=r(57),j=r(33),Y=r(98),R=(e,t,r)=>{window.aerosmith&&r?window.aerosmith.checkScore((r=>{switch(r){case"LRT":case"BIAT":case"MM":e();break;default:t()}}),t):e()},F=r(193),G=r(54),B=r(375),H=r(3126),U=r(3143),K=r(3710),V=r(3304),W=r(4051),Z=r(3973),J=Z.PAYMENT_METHOD_CATALOG.Amazonpay,X=Z.PAYMENT_METHOD_CATALOG.Creditcard,Q={amazonpay:{isAvailable:!0,order:1},paypay:{isAvailable:!0,order:2},creditcard:{isAvailable:!0,order:3},carrier:{isAvailable:!1},paypal:{isAvailable:!1}},ee={paypay:{isAvailable:!0,order:1},creditcard:{isAvailable:!0,order:2},amazonpay:{isAvailable:!1},carrier:{isAvailable:!1},paypal:{isAvailable:!1}},te=()=>({paymentMethod:"",mail:"",temporaryMail:"",card:{no:"",cvc:"",expiryMonth:h()(new Date,"MM"),expiryYear:Object($.a)(),name:""},isSubmitting:!1,errored:null,errorMessage:""}),ae=o.a.extend({components:{CreditCardForm:S,FormErrorList:y.a,FormInput:C.a,NtButton:I.a,PaypayCouponLabel:()=>r.e(50).then(r.bind(null,4048)),AmazonpayButton:K.a,AmazonpayCampaignLabel:W.a,PaymentMethodAccordionSelector:()=>Promise.resolve().then(r.bind(null,3973)),WarningMessage:N.default},mixins:[G.a,F.a,B.a],props:{isModal:{type:Boolean,default:!1},placeType:{type:String,default:"purchase-credit-card-input-modal"},contentType:{type:String,default:""},contentKey:{type:String,default:""}},data:()=>te(),validations(){var e=this,t={card:{no:{required:c.required,length:e=>14<=(e=e.replace(/-/g,"")).length&&e.length<=16,pattern:e=>(e=e.replace(/-/g,""),RegExp("^[0-9]+$").test(e))},cvc:{required:c.required,length:e=>3<=e.length&&e.length<=4},name:{required:c.required,pattern:e=>RegExp("^[A-Z.,-/ ]+$").test(e)}}};return this.isLoggedIn||(t.mail={requiredIf:Object(c.requiredIf)((()=>e.paymentMethod!==Z.PAYMENT_METHOD_CATALOG.Amazonpay)),pattern:t=>e.paymentMethod===Z.PAYMENT_METHOD_CATALOG.Amazonpay||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(t)}),t},computed:{PAYMENT_METHOD_CATALOG:()=>Z.PAYMENT_METHOD_CATALOG,guestPaymentMethodConfig(){return this.isAmazonpayShown?Q:ee},guestAvailablePaymentMethods(){return Object.keys(this.guestPaymentMethodConfig).filter((e=>this.guestPaymentMethodConfig[e].isAvailable))},hasValidationResult(){return this.isLoggedIn?this.$v&&this.$v.card:this.$v&&this.$v.card&&this.$v.mail},isAsukaTarget(){return this.$store.getters[Object(j.userGetter)("IS_ASUKA_TARGET")]},price(){switch(this.$store.state.modal.purchaseModalContainer.actionType){case"note_purchase":return this.$store.state.purchase.note.price;case"magazine_purchase":case"magazine_subscribe":return this.$store.state.purchase.magazine.price;case"membership_plan":return this.$store.state.purchase.circlePlan.price;case"support":return this.$store.state.modal.purchaseModalContainer.supportPrice;default:return 0}},contentName(){switch(this.$store.state.modal.purchaseModalContainer.actionType){case"note_purchase":case"support":return this.$store.state.purchase.note.name;case"magazine_purchase":case"magazine_subscribe":return this.$store.state.purchase.magazine.name;case"membership_plan":return this.$store.state.purchase.circlePlan.name;default:return""}},categories(){switch(this.$store.state.modal.purchaseModalContainer.actionType){case"note_purchase":case"support":return this.$store.state.purchase.note.categories.map((e=>e.name));default:return[]}},isErrorMessageExists(){return this.errorMessage.length>0},forwardButton(){return this.isSubmitting?{label:"処理中",props:{disabled:!0},clickListener:()=>{}}:this.isLoggedIn?{label:"保存する",props:{disabled:this.$v.$anyError,type:"primary"},clickListener:this.saveCheck}:{label:"購入の確認",props:{disabled:this.paymentMethod===Z.PAYMENT_METHOD_CATALOG.Paypay?this.$v.mail.$anyError:this.$v.$anyError,type:"primary"},clickListener:this.confirmCheck}},cardBrandsImagePath:()=>new P.a("https://assets.st-note.com/poc-image/manual/note-common-images/production/payment/fig_cardlist.png").size(789,37).fit("bounds").dpr().toString(),paypayLogoImagePath:()=>new P.a("https://assets.st-note.com/poc-image/manual/note-common-images/production/payment/paypay.png").size(95,24).fit("bounds").dpr(3).toString(),showPaypayCouponForGuest(){return this.isShowPaypayCampaign&&this.paymentMethod===Z.PAYMENT_METHOD_CATALOG.Paypay&&!1===this.isLoggedIn},postLoginRedirectUrl(){if("object"==typeof window)return window.location.href},isShowPaypayCampaign:U.d,isShowPaypayCampaignLabel(){return this.isShowPaypayCampaign&&Object(U.c)(this.price)},isAmazonpayShown(){var e,t;return Object(V.c)(this)&&!(null===(t=null===(e=this.$store.state.purchase)||void 0===e?void 0:e.guest)||void 0===t?void 0:t.amazonpayDisabled)},isAmazonpayCampaignShown(){return Object(V.d)(this)&&Object(V.e)(this.price)},checkoutSessionConfig(){var e,t,r,n,o,c;return this.isLoggedIn?{}:{payloadJSON:null===(t=null===(e=this.$store.state.purchase)||void 0===e?void 0:e.guest)||void 0===t?void 0:t.amazonpayPayload,signature:null===(n=null===(r=this.$store.state.purchase)||void 0===r?void 0:r.guest)||void 0===n?void 0:n.amazonpaySignature,publicKeyId:null===(c=null===(o=this.$store.state.purchase)||void 0===o?void 0:o.guest)||void 0===c?void 0:c.amazonpayPublicKeyId}},isCreditCardRegistered(){var e,t,r=null!==(t=null===(e=this.$store.state.purchase)||void 0===e?void 0:e.currentCreditCardNumber)&&void 0!==t?t:null;return null!==r&&""!==r}},mounted(){this.paymentMethod=this.resolveDefaultPaymentMethod(),Object(H.c)(this.$tracker,{kind:H.a.cv_purchasing_process,action:"imp",placeType:this.placeType,capabilities:{amazonPay:Object(V.a)(this),guestAmazonpay:Object(V.b)(this),isInAmazonpayCampaign:Object(V.d)(this)},contentType:this.contentType,contentKey:this.contentKey,section:"purchase-credit-card-input",experiment_info:{}})},methods:{resolveDefaultPaymentMethod(){return this.$store.state.purchase.guest.hasConfirmed?this.$store.state.purchase.guest.paymentMethod:this.isLoggedIn?X:this.isAmazonpayShown?J:Z.PAYMENT_METHOD_CATALOG.Paypay},init(){var e;Object(Y.f)(L.gmo.tokenScript,!1),e=this.isAsukaTarget,!window.aerosmith&&e&&Object(Y.f)(L.asuka.scoringScript,!1,(script=>{script.onload=()=>{Object.defineProperty(window,"aerosmith",{writable:!1,value:Object.freeze(window.aerosmith)}),window.aerosmith.init()}})),Object.assign(this.$data,Object.assign(Object.assign({},te()),{paymentMethod:this.resolveDefaultPaymentMethod()}));var{mail:t,card:r}=this.$store.state.purchase.guest;for(var n in Boolean(t)&&(this.mail=t),r)Boolean(r[n])&&(this.card[n]=r[n]);this.$nextTick((()=>{this.$refs.creditCardForm&&r.no&&(this.$refs.creditCardForm.splitCardNo=Object(E.c)(r.no))})),this.$v.$reset(),this.$forceUpdate(),!1===this.isLoggedIn&&this.paymentMethod===Z.PAYMENT_METHOD_CATALOG.Amazonpay&&Object(V.c)(this)&&(this.temporaryMail=this.mail,this.mail="")},saveCheck(){this.$v.$touch(),this.$v.$invalid||(this.errorMessage="",v()(new Date,d()(new Date(this.card.expiryYear,Number(this.card.expiryMonth)-1)))?this.errorMessage="クレジットカードの有効期限が過ぎています":(this.isSubmitting=!0,R(this.save,this.cancel,this.isAsukaTarget)))},save(){var e=this;return Object(n.a)((function*(){if(e.paymentMethod===Z.PAYMENT_METHOD_CATALOG.Creditcard){e.card.no=e.card.no.replace(/-/g,""),e.errored=null;var t=!0===e.$_purchaseable_willSetPaymentMethodAsDefault;if(yield e.$store.dispatch(Object(j.userAction)("SAVE_CREDITCARD"),{card:e.card,purchaseUrl:e.purchaseUrl(),setDefault:t}),e.isSubmitting=!1,e.$store.state.user.errored)return void(e.errored=e.$store.state.user.errored);if(e.$store.state.user.tdsChallengeUrl)return void e.$emit("saved",{paymentMethod:Z.PAYMENT_METHOD_CATALOG.Creditcard,via:"creditCardInput",tdsChallengeUrl:e.$store.state.user.tdsChallengeUrl});e.$emit("saved",{paymentMethod:Z.PAYMENT_METHOD_CATALOG.Creditcard,via:"creditCardInput"})}}))()},purchaseUrl(){var e=this.$route.query.return_url;if("string"==typeof e)return decodeURIComponent(e);var t=this.$_purchaseable_actionType,content=(()=>"note_purchase"===t?this.$_purchaseable_note:"magazine_purchase"===t||"magazine_subscribe"===t?this.$_purchaseable_magazine:"support"===t?this.$_purchaseable_note:"membership_plan"===t?this.$_purchaseable_circlePlan:void 0)();if(content||"premium_subscribe"===t){var r={actionType:t,content:content};return r.scrollpos=this.$route.query.scrollpos,r.creator=this.$_purchaseable_creator,r.isCouponApplied=this.$_purchaseable_isCouponApplied,this.$_purchaseable_discountCampaign&&(r.discountCampaignKey=this.$_purchaseable_discountCampaign.key),this.getPurchaseUrl(r)}},confirmCheck(){this.paymentMethod===Z.PAYMENT_METHOD_CATALOG.Amazonpay&&Object(V.c)(this)?this.confirm():(this.$v.$touch(),(this.paymentMethod===Z.PAYMENT_METHOD_CATALOG.Paypay?this.$v.mail.$anyError:this.$v.$invalid)||(this.paymentMethod!==Z.PAYMENT_METHOD_CATALOG.Paypay?R(this.confirm,this.cancel,this.isAsukaTarget):this.confirm()))},confirm(){this.card.no=this.card.no.replace(/-/g,"");var{mail:e,card:t,paymentMethod:r}=this,n={mail:e,card:t,paymentMethod:r,hasConfirmed:!0};this.$store.dispatch(Object(D.purchaseAction)("SET_GUEST"),n),this.$emit("confirm")},cancel(){this.isSubmitting=!1,this.isLoggedIn?this.$store.dispatch(Object(j.userAction)("RESET_CREDITCARD")):this.$store.dispatch(Object(D.purchaseAction)("RESET_GUEST_CREDITCARD")),this.$emit("close")}}}),re=Object(z.a)(ae,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isLoggedIn?r("div",{staticClass:"m-cardInput max-w-[470px] mx-auto"},[r("div",{staticClass:"p-4"},[r("div",{staticClass:"relative flex flex-1 justify-center"},[r("h1",{staticClass:"font-bold leading-8"},[e._v("\n        カード情報の入力\n      ")]),e._v(" "),r("div",{staticClass:"absolute left-0"},[r("nt-button",{attrs:{size:"small",type:"basic",disabled:e.isSubmitting},on:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v("\n          戻る\n        ")])],1)])]),e._v(" "),e.hasValidationResult?r("div",{staticClass:"px-6"},[r("section",{staticClass:"m-cardInput__item"},[r("h2",{staticClass:"visually-hidden"},[e._v("\n        カード情報を入力\n      ")]),e._v(" "),r("credit-card-form",{ref:"creditCardForm",attrs:{card:e.card,price:e.price,"content-name":e.contentName,categories:e.categories,"is-credit-card-registered":e.isCreditCardRegistered}},[r("nt-button",{staticClass:"m-cardInput__footerButton mt-4",attrs:{disabled:e.isSubmitting,size:"large",width:"fit",type:"primary"},on:{click:function(t){return t.preventDefault(),e.forwardButton.clickListener(t)}}},[e._v("\n          "+e._s(e.forwardButton.label)+"\n        ")]),e._v(" "),e.errored||e.isErrorMessageExists?r("warning-message",{staticClass:"mt-4",attrs:{type:"error","icon-color":"error","icon-size":"medium"},scopedSlots:e._u([{key:"title",fn:function(){return[e.errored?[e._v("\n              "+e._s(e.toApiErrorMessage(e.errored))+"\n            ")]:e._e(),e._v(" "),e.isErrorMessageExists?[e._v("\n              "+e._s(e.errorMessage)+"\n            ")]:e._e()]},proxy:!0}],null,!1,4255694294)}):e._e()],1)],1)]):e._e()]):r("div",{staticClass:"flex flex-col gap-y-4 pb-6 max-w-[470px] mx-auto"},[r("div",{staticClass:"relative flex p-4"},[r("h1",{staticClass:"font-bold flex flex-1 items-center justify-center h-8",attrs:{tabindex:"0"}},[e._v("\n      ゲストとして購入\n    ")]),e._v(" "),r("nt-button",{staticClass:"absolute top-1/2 -translate-y-1/2",attrs:{disabled:e.isSubmitting,size:"small",type:"basic"},on:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v("\n      キャンセル\n    ")])],1),e._v(" "),r("div",{staticClass:"flex flex-col gap-y-4 px-6"},[e.hasValidationResult?r("div",[e._m(0)]):e._e()]),e._v(" "),r("payment-method-accordion-selector",{staticClass:"pb-0",attrs:{"available-payment-methods":e.guestPaymentMethodConfig,"selected-payment-method":e.paymentMethod||e.guestAvailablePaymentMethods[0]||"","is-credit-card-registration-needed":!0,"is-default-marking-switch-shown":!1,"is-submit-button-shown":!1},on:{change:function(t){e.paymentMethod=t}},scopedSlots:e._u([{key:"belowEach",fn:function(t){var n=t.currentPaymentMethod;return[n===e.PAYMENT_METHOD_CATALOG.Amazonpay&&e.isAmazonpayCampaignShown?r("div",{staticClass:"mx-4 pb-4"},[r("amazonpay-campaign-label")],1):e._e(),e._v(" "),n===e.PAYMENT_METHOD_CATALOG.Paypay&&e.isShowPaypayCampaignLabel?r("div",{staticClass:"mx-4 pb-4"},[r("paypay-coupon-label",{staticClass:" !bg-surface-normal text-center text-xs border border-border-default rounded-lg",attrs:{"container-bg-class-name":"bg-surface-normal"}})],1):e._e()]}}])}),e._v(" "),r("div",{staticClass:"flex flex-col gap-y-4 px-6"},[e.hasValidationResult&&(e.paymentMethod===e.PAYMENT_METHOD_CATALOG.Creditcard||e.errored||e.isErrorMessageExists)?r("div",[e.paymentMethod===e.PAYMENT_METHOD_CATALOG.Creditcard?r("section",{staticClass:"m-cardInput__item"},[r("h2",{staticClass:"visually-hidden"},[e._v("\n          カード情報を入力\n        ")]),e._v(" "),r("credit-card-form",{ref:"creditCardForm",attrs:{card:e.card,price:e.price,"content-name":e.contentName,categories:e.categories,"show-company-image":!0}})],1):e._e(),e._v(" "),e.errored||e.isErrorMessageExists?r("form-error-list",[e.errored?r("div",[e._v("\n          "+e._s(e.toApiErrorMessage(e.errored))+"\n        ")]):e._e(),e._v(" "),e.isErrorMessageExists?r("div",[e._v("\n          "+e._s(e.errorMessage)+"\n        ")]):e._e()]):e._e()],1):e._e(),e._v(" "),e.isAmazonpayShown&&e.paymentMethod===e.PAYMENT_METHOD_CATALOG.Amazonpay?r("div",{staticClass:"py-2 px-3 rounded bg-background-secondary text-sm text-center"},[e._v("\n      Amazonに登録のメールアドレスへ記事が届きます\n    ")]):r("div",[r("form-input",{attrs:{id:"mail","has-error":e.$v.mail.$error,label:"送り先メールアドレス",type:"email",placeholder:"例: info@example.com",autocomplete:"email","describe-id":"emailDescription",tabindex:"0"},on:{blur:function(t){return e.$v.mail.$touch()}},model:{value:e.mail,callback:function(t){e.mail="string"==typeof t?t.trim():t},expression:"mail"}},[!e.$v.mail.$error||e.$v.mail.required&&e.$v.mail.email?e._e():r("form-error-list",{attrs:{slot:"errorMessage"},slot:"errorMessage"},[e.$v.mail.required?e._e():r("div",[e._v("\n            メールアドレスは入力必須です。\n          ")]),e._v(" "),e.$v.mail.email?e._e():r("div",[e._v("\n            メールアドレスの形式が不正です。\n          ")])])],1),e._v(" "),e._m(1)],1),e._v(" "),""!==e.paymentMethod?[e.isAmazonpayShown?r("amazonpay-button",{attrs:{show:e.paymentMethod===e.PAYMENT_METHOD_CATALOG.Amazonpay,variant:"checkout","checkout-session-config":e.checkoutSessionConfig}}):e._e(),e._v(" "),e.paymentMethod!==e.PAYMENT_METHOD_CATALOG.Amazonpay?r("nt-button",{staticClass:"m-cardInput__footerButton",attrs:{disabled:e.isSubmitting||e.forwardButton.props.disabled,size:"large",width:"fit",type:"primary"},on:{click:function(t){return t.preventDefault(),e.forwardButton.clickListener(t)}}},[e._v("\n        "+e._s(e.forwardButton.label)+"\n      ")]):e._e()]:e._e()],2)],1)}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex flex-col gap-y-6"},[r("h2",{staticClass:"font-bold text-sm"},[e._v("\n          お支払い方法\n        ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pt-2 text-text-secondary text-xs",attrs:{id:"emailDescription"}},[e._v("\n        このメールアドレスに記事が送信されます。販売者には通知されません。"),r("br"),e._v("\n        携帯キャリアメールはご指定いただけません。\n      ")])}],!1,null,null,null);t.a=re.exports},4618:function(e,t,r){var content=r(5532);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("06c8bfce",content,!0,{sourceMap:!1})},5531:function(e,t,r){"use strict";r(4618)},5532:function(e,t,r){var n=r(15)((function(i){return i[1]}));n.push([e.i,".m-creditCardForm__item+.m-creditCardForm__item[data-v-38d1160d]{margin-top:1.3125rem}.m-creditCardForm__cardimage[data-v-38d1160d]{display:block;width:16.25rem;max-width:100%;max-height:2.125rem;margin:1.5rem auto}.m-creditCardForm__limit[data-v-38d1160d]{display:flex;align-items:center}.m-creditCardForm__limitSeparate[data-v-38d1160d]{display:flex;align-items:center;margin-right:.5rem;margin-left:.5rem}.m-creditCardForm__securityImage[data-v-38d1160d]{height:2.5rem;margin-left:.5rem}.m-creditCardForm__note[data-v-38d1160d]{margin-top:1rem;font-size:var(--font-size-xs);color:var(--color-text-secondary)}.m-creditCardForm__noteLink[data-v-38d1160d]{color:var(--color-text-secondary);text-decoration:underline}@media only screen and (min-width:769px){.m-creditCardForm__noteLink[data-v-38d1160d]:hover{color:var(--color-text-primary)}}",""]),n.locals={},e.exports=n}}]);