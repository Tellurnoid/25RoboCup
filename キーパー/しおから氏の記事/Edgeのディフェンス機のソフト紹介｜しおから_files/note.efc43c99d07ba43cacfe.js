(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{3143:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return m})),r.d(t,"d",(function(){return f})),r.d(t,"c",(function(){return y}));var n=r(3131),o=r.n(n),l=(r(375),new Date("2025-12-01T10:00:00.000+09:00")),c=new Date("2025-12-28T23:59:59.999+09:00"),d=200,h="12/28までにPayPayで支払うと抽選で最大全額のPayPayポイントが当たる！",m="https://note.com/info/n/n94be1f3c48ae";function f(){return o()(Date.now(),l,c)&&!this.$_purchaseable_canShowPurchaseNoteWithPointFeature}function y(e){return e>=d}},3160:function(e,t,r){"use strict";var n=r(1).a.extend({props:{value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},onText:{type:String,default:"ON"},offText:{type:String,default:"OFF"},onColor:{type:String,default:"#2cb696"},offColor:{type:String,default:"#bdc3c7"},onValue:{type:[Boolean,String,Number],default:!0},offValue:{type:[Boolean,String,Number],default:!1},ariaLabelledby:{type:String,default:""},ariaDescribedby:{type:String,default:""}},computed:{labelId(){return"switch-".concat(this._uid)},labelledBy(){return"".concat(this.ariaLabelledby," ").concat(this.labelId)},checked(){return this.value===this.onValue},hasText(){return Boolean(this.onText||this.offText)},transform(){return this.checked?"translate(".concat(this.width-20,"px, 2px)"):"translate(2px, 2px)"},newColor(){return this.checked?this.onColor:this.offColor}},watch:{checked(){this.$refs.input&&(this.$refs.input.checked=this.checked)}},created(){-1===[this.onValue,this.offValue].indexOf(this.value)&&this.$emit("input",this.offValue)},mounted(){this.$refs.input.checked=this.checked},methods:{handleChange(e){this.disabled||(this.$emit("input",this.checked?this.offValue:this.onValue),this.$emit("change",this.checked?this.offValue:this.onValue),this.$nextTick((()=>{this.$refs.input.checked=this.checked})))}}}),o=(r(3257),r(7)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("label",{staticClass:"a-switch",class:{"is-disabled":e.disabled,"is-checked":e.checked},attrs:{id:e.labelId}},[r("input",{ref:"input",staticClass:"a-switch__input visually-hidden",attrs:{"true-value":e.onValue,"false-value":e.offValue,type:"checkbox","aria-labelledby":e.labelledBy,"aria-describedby":e.ariaDescribedby},on:{change:e.handleChange}}),e._v(" "),r("div",{ref:"core",staticClass:"a-switch__core"}),e._v(" "),e.hasText?r("div",{staticClass:"a-switch__label"},[e._v("\n    "+e._s(e.checked?e.onText:e.offText)+"\n  ")]):e._e()])}),[],!1,null,"24b219d2",null);t.a=component.exports},3167:function(e,t,r){var content=r(3258);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("0db6a954",content,!0,{sourceMap:!1})},3257:function(e,t,r){"use strict";r(3167)},3258:function(e,t,r){var n=r(15)((function(i){return i[1]}));n.push([e.i,'.a-switch[data-v-24b219d2]{position:relative;display:inline-flex;align-items:center;height:24px}.a-switch.is-disabled[data-v-24b219d2]{opacity:.6}.a-switch__input[data-v-24b219d2]{position:absolute;opacity:0}.a-switch__input:focus~.a-switch__core[data-v-24b219d2]{background-color:var(--color-grayAlpha-300)}.a-switch.is-checked .a-switch__input:focus~.a-switch__core[data-v-24b219d2]{background-color:var(--color-surface-success-reaction)}.a-switch__core[data-v-24b219d2]{position:relative;width:40px;height:24px;margin:0;background-color:var(--color-grayAlpha-200);border-radius:24px;outline:0;transition:all .1s ease-in-out}@media only screen and (min-width:769px){.a-switch__core[data-v-24b219d2]:hover{background-color:var(--color-grayAlpha-300)}}.a-switch__core[data-v-24b219d2]:after{position:absolute;top:4px;left:4px;width:16px;height:16px;content:"";background-color:var(--color-surface-normal);border-radius:100%;transition:all .1s ease-in-out}.a-switch.is-checked .a-switch__core[data-v-24b219d2]{background-color:var(--color-surface-success)}.a-switch.is-checked .a-switch__core[data-v-24b219d2]:after{left:20px}.a-switch__core[data-v-24b219d2],.a-switch__label[data-v-24b219d2]{cursor:pointer}.a-switch.is-disabled .a-switch__core[data-v-24b219d2],.a-switch.is-disabled .a-switch__label[data-v-24b219d2]{cursor:not-allowed}.a-switch__label[data-v-24b219d2]{margin-left:8px;font-size:var(--font-size-xs);line-height:1}',""]),n.locals={},e.exports=n},3770:function(e,t,r){"use strict";var n=r(20),o=r(641),l=r(115),c=r(62),d=r(47),h=r(407);n({target:"Array",proto:!0},{flatMap:function(e){var t,r=l(this),n=c(r.length);return d(e),(t=h(r,0)).length=o(t,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},3771:function(e,t,r){r(259)("flatMap")},3973:function(e,t,r){"use strict";r.r(t),r.d(t,"PURCHASING_TYPE_CATALOG",(function(){return w})),r.d(t,"ONETIME_PURCHASING_TYPES",(function(){return C})),r.d(t,"PAYMENT_METHOD_CATALOG",(function(){return M})),r.d(t,"PAYMENT_METHOD_CARRIER_CATALOG",(function(){return k})),r.d(t,"PAYMENT_METHOD_CARRIER_MONTHLY_CATALOG",(function(){return P})),r.d(t,"ALL_CARRIER_PAYMENT_METHODS",(function(){return S}));r(11),r(12),r(14),r(29),r(3770),r(3771),r(105);var n=r(1),o=r(3160),l=r(43),c=n.a.extend({props:{id:{type:String,required:!0},name:{type:String,required:!0},value:{type:String,required:!0},checked:{type:Boolean,required:!0},ariaLabel:{type:String,default:void 0}},methods:{minimize:e=>e.replace(/\n/g,"").replace(/\s+/g," ")}}),d=r(7),h=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"relative w-6 h-6"},[r("input",{class:e.minimize("\n      block w-0 h-0\n      before:absolute\n      before:content-['']\n      before:top-0\n      before:left-0\n      before:z-10\n      before:w-6\n      before:h-6\n      before:bg-surface-normal\n      before:border\n      before:border-border-default\n      before:rounded-full\n\n      after:z-10\n      after:content-['']\n      after:absolute\n      after:top-1/2\n      after:left-1/2\n      after:-translate-x-1/2\n      after:-translate-y-1/2\n      after:bg-grayAlpha-300\n      after:rounded-full\n      after:w-3\n      after:h-3\n      after:checked:opacity-100\n      after:checked:bg-custom-accent\n      group-hover/item:after:opacity-100\n      after:opacity-0\n    "),attrs:{id:e.id,type:"radio",name:e.name,"data-checked":e.checked.toString(),"aria-label":e.ariaLabel},domProps:{value:e.value,checked:e.checked},on:{change:function(t){return e.$emit("change",t)}}})])}),[],!1,null,null,null).exports,m=n.a.extend({components:{NtRadioButton:h},props:{label:{type:String,required:!0},name:{type:String,required:!0},value:{type:String,required:!0},imageUrl:{type:String,required:!0},imageSize:{type:Object,required:!0},checked:{type:Boolean,required:!0},ariaLabel:{type:String,default:void 0},isDefault:{type:Boolean,default:!1}},data:()=>({isMouseHovered:!1}),computed:{idAttribute(){return"".concat(this.name,"-").concat(this.value)}},methods:{minimize:e=>e.replace(/\n/g,"").replace(/\s+/g," ")}}),f=Object(d.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"border-b border-border-default last:border-b-0 hover:bg-background-secondary",class:e.checked?"bg-background-secondary":"",on:{focusin:function(t){e.isMouseHovered=!0},focusout:function(t){e.isMouseHovered=!1},mouseover:function(t){e.isMouseHovered=!0},mouseleave:function(t){e.isMouseHovered=!1}}},[r("label",{staticClass:"flex p-4 gap-x-3 cursor-pointer group/item",attrs:{for:e.idAttribute},on:{click:function(t){return e.$emit("change",e.value)}}},[r("nt-radio-button",{attrs:{id:e.idAttribute,name:e.name,value:e.value,checked:e.checked,"aria-label":e.ariaLabel},on:{change:function(t){return e.$emit("change",e.value)}}}),e._v(" "),r("div",{staticClass:"flex items-start justify-between grow"},[r("div",{staticClass:"flex flex-col gap-y-1"},[r("div",{staticClass:"font-bold"},[e._v(e._s(e.label))]),e._v(" "),e.isDefault?r("div",{staticClass:"text-xs text-text-secondary"},[e._v("\n          現在のお支払い方法\n        ")]):e._e()]),e._v(" "),r("img",{attrs:{src:e.imageUrl,alt:"",width:e.imageSize.width,height:e.imageSize.height}})])],1),e._v(" "),e._t("default")],2)}),[],!1,null,null,null).exports,y=r(10),v={amazonpay:{label:"Amazon Pay",name:"paymentMethod",value:"amazonpay",imageUrl:"https://assets.st-note.com/poc-image/manual/note-common-images/production/payment/amazonpay.png?width=84&fit=bounds&dpr=2",imageSize:{width:84,height:19}},paypay:{label:"PayPay",name:"paymentMethod",value:"paypay",imageUrl:"https://assets.st-note.com/poc-image/manual/note-common-images/production/svg/paypay.svg",imageSize:{width:64,height:16}},creditcard:{label:"クレジットカード",name:"paymentMethod",value:"creditcard",imageUrl:"https://assets.st-note.com/poc-image/manual/note-common-images/production/payment/fig_cardlist.png?width=121&fit=bounds&dpr=2",imageSize:{width:121,height:16}},carrier:{label:"携帯キャリア決済",name:"paymentMethod",value:"carrier",imageUrl:"https://assets.st-note.com/poc-image/manual/note-common-images/production/payment/carrier-billings.png?width=74&fit=bounds&dpr=2",imageSize:{width:74,height:18}},paypal:{label:"PayPal",name:"paymentMethod",value:"paypal",imageUrl:"https://assets.st-note.com/poc-image/manual/note-common-images/production/payment/paypal.png?width=66&fit=bounds&dpr=2",imageSize:{width:66,height:16}}},_={docomo:{label:y.paymentLabels.docomo,value:"docomo"},au:{label:y.paymentLabels.au,value:"au"},softbank:{label:y.paymentLabels.softbank,value:"softbank"}},w={NotePurchase:"note_purchase",MagazinePurchase:"magazine_purchase",MagazineSubscribe:"magazine_subscribe",Support:"support"},C=[w.NotePurchase,w.MagazinePurchase],M={Creditcard:"creditcard",Carrier:"carrier",Paypay:"paypay",Paypal:"paypal",Amazonpay:"amazonpay"},k={Docomo:"docomo",Au:"au",Softbank:"softbank"},P={MonthlyDocomo:"monthly_docomo",MonthlyAu:"monthly_au",MonthlySoftbank:"monthly_softbank"},x=[k.Docomo,k.Au,k.Softbank],S=[...x,P.MonthlyDocomo,P.MonthlyAu,P.MonthlySoftbank],A=n.a.extend({components:{AccordionSelectorItem:f,NtSwitch:o.a,NtButton:l.a,NtRadioButton:h},props:{availablePaymentMethods:{type:Object,default:()=>Object.create(null)},defaultPaymentMethod:{type:String,default:void 0},initialMarkAsDefault:{type:Boolean,default:!0},selectedPaymentMethod:{type:String,default:void 0},selectedCarrierPaymentMethod:{type:String,default:void 0},isCreditCardRegistrationNeeded:{type:Boolean,required:!0,default:!1},isDefaultMarkingSwitchShown:{type:Boolean,default:!0},isCarrierMonthly:{type:Boolean,default:!1},isSubmitButtonShown:{type:Boolean,default:!0},creditCardNumberForEdit:{type:String,default:void 0}},data(){var e,t;return{selected:null!==(t=null!==(e=this.selectedPaymentMethod)&&void 0!==e?e:this.defaultPaymentMethod)&&void 0!==t?t:Object.keys(this.availablePaymentMethods).filter((e=>this.availablePaymentMethods[e]))[0],markAsDefault:!1!==this.initialMarkAsDefault,selectedCarrier:void 0===this.selectedCarrierPaymentMethod?k.Docomo:this.selectedCarrierPaymentMethod.replace("monthly_","")}},computed:{submitButtonLabel(){var e="設定する";switch(this.selected){case M.Creditcard:return this.isCreditCardRegistrationNeeded?"カード情報入力画面へ":e;case M.Amazonpay:case M.Paypay:case M.Carrier:case M.Paypal:return e;case"":return"選択してください";default:return e}},paymentMethodProps:()=>v,carrierPaymentMethods:()=>x,carrierPaymentMethodProps:()=>_,sortedAvailablePaymentMethods(){var e=data=>data.isAvailable?data.order:100;return Object.entries(this.availablePaymentMethods).sort(((a,b)=>e(a[1])-e(b[1]))).flatMap((e=>{var[t,data]=e;return data.isAvailable?t:[]}))},isCreditCardEditButtonShown(){return null!==this.creditCardNumberForEdit&&void 0!==this.creditCardNumberForEdit&&""!==this.creditCardNumberForEdit}},watch:{selectedPaymentMethod(e){this.selected=e}},methods:{handleSubmit(){if(this.isCreditCardRegistrationNeeded&&this.selected===M.Creditcard)this.$emit("credit-card-registration");else{var e={paymentMethod:this.selected,markAsDefault:this.isDefaultMarkingSwitchShown?this.markAsDefault:void 0,carrierPaymentMethod:this.selected===M.Carrier?this.isCarrierMonthly?"monthly_".concat(this.selectedCarrier):this.selectedCarrier:void 0};this.$emit("submit",e)}},handleItemChange(e){this.selected=e,this.$emit("change",e)},handleMarkAsDefaultChange(){this.markAsDefault=!this.markAsDefault,this.$emit("change-mark-as-default",this.markAsDefault)},handleCarrierRadioChange(e){this.selectedCarrier=e.target.value}}}),D=Object(d.a)(A,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{staticClass:"flex flex-col gap-y-6 py-4 px-6",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[r("div",{staticClass:"rounded-lg border border-border-default"},e._l(e.sortedAvailablePaymentMethods,(function(t){return r("AccordionSelectorItem",{key:t,attrs:{label:e.paymentMethodProps[t].label,name:e.paymentMethodProps[t].name,value:e.paymentMethodProps[t].value,"image-url":e.paymentMethodProps[t].imageUrl,"image-size":e.paymentMethodProps[t].imageSize,checked:e.selected===t,"is-default":e.defaultPaymentMethod===t},on:{change:e.handleItemChange}},["carrier"===t&&"carrier"===e.selected?r("div",{staticClass:"flex flex-col gap-y-4 pl-[3.25rem] pb-4 text-sm"},e._l(e.carrierPaymentMethods,(function(t){return r("label",{key:e.carrierPaymentMethodProps[t].value,staticClass:"flex gap-x-2 cursor-pointer",attrs:{for:"carrier-"+e.carrierPaymentMethodProps[t].value}},[r("nt-radio-button",{attrs:{id:"carrier-"+e.carrierPaymentMethodProps[t].value,name:t,value:e.carrierPaymentMethodProps[t].value,checked:e.selectedCarrier===e.carrierPaymentMethodProps[t].value},on:{change:e.handleCarrierRadioChange}}),e._v("\n          "+e._s(e.carrierPaymentMethodProps[t].label)+"\n        ")],1)})),0):e._e(),e._v(" "),"creditcard"===t&&"creditcard"===e.selected&&e.isCreditCardEditButtonShown?r("div",{staticClass:"pl-[3.25rem] pb-4 pr-4"},[r("div",{staticClass:"flex items-center justify-between"},[r("span",{staticClass:"text-text-secondary text-sm"},[e._v(e._s(e.creditCardNumberForEdit))]),e._v(" "),r("nt-button",{staticClass:"relative z-10",attrs:{type:"basic",size:"small"},on:{click:function(t){return e.$emit("credit-card-registration")}}},[e._v("\n            編集\n          ")])],1)]):e._e(),e._v(" "),e._t("belowEach",null,{currentPaymentMethod:t})],2)})),1),e._v(" "),e.isDefaultMarkingSwitchShown?r("div",{staticClass:"flex justify-between w-full"},[r("span",{staticClass:"text-text-secondary test-sm",attrs:{id:"markAsDefaultLabel"}},[e._v("\n      次回以降もこの方法を使う\n    ")]),e._v(" "),r("span",[r("nt-switch",{attrs:{"on-text":"","off-text":"","on-value":!0,"off-value":!1,value:e.markAsDefault,"aria-labelledby":"markAsDefaultLabel"},on:{change:e.handleMarkAsDefaultChange}})],1)]):e._e(),e._v(" "),e.isSubmitButtonShown?r("div",[r("nt-button",{attrs:{type:"primary","native-button-type":"submit",size:"medium",width:"fit",disabled:""===e.selected}},[e._v("\n      "+e._s(e.submitButtonLabel)+"\n    ")])],1):e._e()])}),[],!1,null,null,null);t.default=D.exports}}]);